e09511fa12345d3a964334301d1045df
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const cors_1 = __importDefault(require("cors"));
const passport_1 = __importDefault(require("./infrastructure/security/passport"));
const authController_1 = __importDefault(require("./domains/users/controllers/authController"));
const testCaseController_1 = __importDefault(require("./domains/testcases/controllers/testCaseController"));
const releaseController_1 = __importDefault(require("./domains/releases/controllers/releaseController"));
const executionController_1 = __importDefault(require("./domains/executions/controllers/executionController"));
const treeController_1 = __importDefault(require("./domains/tree/controllers/treeController"));
const folderController_1 = __importDefault(require("./domains/folders/controllers/folderController"));
const bulkController_1 = __importDefault(require("./domains/folders/controllers/bulkController"));
const errorHandler_1 = require("./utils/errorHandler");
const app = (0, express_1.default)();
// 미들웨어 설정
app.use((0, cors_1.default)());
app.use(express_1.default.json());
app.use(express_1.default.urlencoded({ extended: true }));
// Passport 초기화
app.use(passport_1.default.initialize());
// 라우터 설정
app.use('/api/auth', authController_1.default);
app.use('/api/testcases', testCaseController_1.default); // 테스트케이스 API 활성화
app.use('/api/releases', releaseController_1.default);
app.use('/api/executions', executionController_1.default);
app.use('/api/tree', treeController_1.default); // 새로운 트리 API
app.use('/api/folders', folderController_1.default); // 폴더 API
app.use('/api/bulk', bulkController_1.default); // 일괄 작업 API
// 기본 라우트
app.get('/', (req, res) => {
    res.json({ message: 'Quest Desktop App API' });
});
// 404 핸들러
app.use('*', (req, res) => {
    res.status(404).json({ message: '요청한 리소스를 찾을 수 없습니다.' });
});
// 에러 핸들러
app.use(errorHandler_1.errorHandler);
exports.default = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC9zcmMvbWFpbi9hcHAvYXBwLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsc0RBQThCO0FBQzlCLGdEQUF3QjtBQUN4QixrRkFBMEQ7QUFDMUQsZ0dBQXdFO0FBQ3hFLDRHQUFvRjtBQUNwRix5R0FBaUY7QUFDakYsK0dBQXVGO0FBQ3ZGLCtGQUF1RTtBQUN2RSxzR0FBOEU7QUFDOUUsa0dBQTBFO0FBQzFFLHVEQUFvRDtBQUVwRCxNQUFNLEdBQUcsR0FBRyxJQUFBLGlCQUFPLEdBQUUsQ0FBQztBQUV0QixVQUFVO0FBQ1YsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFBLGNBQUksR0FBRSxDQUFDLENBQUM7QUFDaEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxpQkFBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7QUFDeEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxpQkFBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFFaEQsZUFBZTtBQUNmLEdBQUcsQ0FBQyxHQUFHLENBQUMsa0JBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0FBRS9CLFNBQVM7QUFDVCxHQUFHLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSx3QkFBYyxDQUFDLENBQUM7QUFDckMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSw0QkFBa0IsQ0FBQyxDQUFDLENBQUMsaUJBQWlCO0FBQ2hFLEdBQUcsQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLDJCQUFpQixDQUFDLENBQUM7QUFDNUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSw2QkFBbUIsQ0FBQyxDQUFDO0FBQ2hELEdBQUcsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLHdCQUFjLENBQUMsQ0FBQyxDQUFDLGFBQWE7QUFDbkQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsMEJBQWdCLENBQUMsQ0FBQyxDQUFDLFNBQVM7QUFDcEQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsd0JBQWMsQ0FBQyxDQUFDLENBQUMsWUFBWTtBQUVsRCxTQUFTO0FBQ1QsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUU7SUFDeEIsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxDQUFDLENBQUM7QUFDakQsQ0FBQyxDQUFDLENBQUM7QUFFSCxVQUFVO0FBQ1YsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUU7SUFDeEIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsQ0FBQyxDQUFDO0FBQzNELENBQUMsQ0FBQyxDQUFDO0FBRUgsU0FBUztBQUNULEdBQUcsQ0FBQyxHQUFHLENBQUMsMkJBQVksQ0FBQyxDQUFDO0FBRXRCLGtCQUFlLEdBQUcsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvM2ktYTEtMjAyMS0wMTcvRGVza3RvcC9teS1wcm9qZWN0L3NyYy9tYWluL2FwcC9hcHAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICcuL2luZnJhc3RydWN0dXJlL3NlY3VyaXR5L3Bhc3Nwb3J0JztcbmltcG9ydCBhdXRoQ29udHJvbGxlciBmcm9tICcuL2RvbWFpbnMvdXNlcnMvY29udHJvbGxlcnMvYXV0aENvbnRyb2xsZXInO1xuaW1wb3J0IHRlc3RDYXNlQ29udHJvbGxlciBmcm9tICcuL2RvbWFpbnMvdGVzdGNhc2VzL2NvbnRyb2xsZXJzL3Rlc3RDYXNlQ29udHJvbGxlcic7XG5pbXBvcnQgcmVsZWFzZUNvbnRyb2xsZXIgZnJvbSAnLi9kb21haW5zL3JlbGVhc2VzL2NvbnRyb2xsZXJzL3JlbGVhc2VDb250cm9sbGVyJztcbmltcG9ydCBleGVjdXRpb25Db250cm9sbGVyIGZyb20gJy4vZG9tYWlucy9leGVjdXRpb25zL2NvbnRyb2xsZXJzL2V4ZWN1dGlvbkNvbnRyb2xsZXInO1xuaW1wb3J0IHRyZWVDb250cm9sbGVyIGZyb20gJy4vZG9tYWlucy90cmVlL2NvbnRyb2xsZXJzL3RyZWVDb250cm9sbGVyJztcbmltcG9ydCBmb2xkZXJDb250cm9sbGVyIGZyb20gJy4vZG9tYWlucy9mb2xkZXJzL2NvbnRyb2xsZXJzL2ZvbGRlckNvbnRyb2xsZXInO1xuaW1wb3J0IGJ1bGtDb250cm9sbGVyIGZyb20gJy4vZG9tYWlucy9mb2xkZXJzL2NvbnRyb2xsZXJzL2J1bGtDb250cm9sbGVyJztcbmltcG9ydCB7IGVycm9ySGFuZGxlciB9IGZyb20gJy4vdXRpbHMvZXJyb3JIYW5kbGVyJztcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyDrr7jrk6Tsm6jslrQg7ISk7KCVXG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuXG4vLyBQYXNzcG9ydCDstIjquLDtmZRcbmFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTtcblxuLy8g65287Jqw7YSwIOyEpOyglVxuYXBwLnVzZSgnL2FwaS9hdXRoJywgYXV0aENvbnRyb2xsZXIpO1xuYXBwLnVzZSgnL2FwaS90ZXN0Y2FzZXMnLCB0ZXN0Q2FzZUNvbnRyb2xsZXIpOyAvLyDthYzsiqTtirjsvIDsnbTsiqQgQVBJIO2ZnOyEse2ZlFxuYXBwLnVzZSgnL2FwaS9yZWxlYXNlcycsIHJlbGVhc2VDb250cm9sbGVyKTtcbmFwcC51c2UoJy9hcGkvZXhlY3V0aW9ucycsIGV4ZWN1dGlvbkNvbnRyb2xsZXIpO1xuYXBwLnVzZSgnL2FwaS90cmVlJywgdHJlZUNvbnRyb2xsZXIpOyAvLyDsg4jroZzsmrQg7Yq466asIEFQSVxuYXBwLnVzZSgnL2FwaS9mb2xkZXJzJywgZm9sZGVyQ29udHJvbGxlcik7IC8vIO2PtOuNlCBBUElcbmFwcC51c2UoJy9hcGkvYnVsaycsIGJ1bGtDb250cm9sbGVyKTsgLy8g7J286rSEIOyekeyXhSBBUElcblxuLy8g6riw67O4IOudvOyasO2KuFxuYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbih7IG1lc3NhZ2U6ICdRdWVzdCBEZXNrdG9wIEFwcCBBUEknIH0pO1xufSk7XG5cbi8vIDQwNCDtlbjrk6Trn6xcbmFwcC51c2UoJyonLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAn7JqU7LKt7ZWcIOumrOyGjOyKpOulvCDssL7snYQg7IiYIOyXhuyKteuLiOuLpC4nIH0pO1xufSk7XG5cbi8vIOyXkOufrCDtlbjrk6Trn6xcbmFwcC51c2UoZXJyb3JIYW5kbGVyKTtcblxuZXhwb3J0IGRlZmF1bHQgYXBwOyAiXSwidmVyc2lvbiI6M30=