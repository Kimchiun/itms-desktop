204befe9258c51405834d67b35d49721
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// axios 모킹
jest.mock('../src/renderer/utils/axios', () => ({
    get: jest.fn()
}));
const react_1 = require("@testing-library/react");
const react_redux_1 = require("react-redux");
const styled_components_1 = require("styled-components");
const toolkit_1 = require("@reduxjs/toolkit");
const ReleaseList_1 = __importDefault(require("../src/renderer/features/Dashboard/components/ReleaseList"));
const dashboardLayoutSlice_1 = __importDefault(require("../src/renderer/store/dashboardLayoutSlice"));
const theme_1 = require("../src/renderer/shared/theme");
require("@testing-library/jest-dom");
const mockAxios = require('../src/renderer/utils/axios');
// 테스트용 스토어 설정
const createTestStore = (initialState = {}) => {
    return (0, toolkit_1.configureStore)({
        reducer: {
            dashboardLayout: dashboardLayoutSlice_1.default
        },
        preloadedState: {
            dashboardLayout: {
                leftPanel: { isCollapsed: false, width: 280 },
                rightPanel: { isCollapsed: false, width: 320 },
                centerPanel: { isFullWidth: false },
                activeTab: 'overview',
                selectedReleaseId: null,
                ...initialState
            }
        }
    });
};
// 컴포넌트 렌더링 헬퍼
const renderReleaseList = (initialState = {}) => {
    const store = createTestStore(initialState);
    const result = (0, react_1.render)((0, jsx_runtime_1.jsx)(react_redux_1.Provider, { store: store, children: (0, jsx_runtime_1.jsx)(styled_components_1.ThemeProvider, { theme: theme_1.theme, children: (0, jsx_runtime_1.jsx)(ReleaseList_1.default, {}) }) }));
    return { ...result, store };
};
const mockReleases = [
    { id: '1', title: 'v2.1.0 - 기능 개선', status: 'active', description: '새로운 기능 추가' },
    { id: '2', title: 'v2.0.5 - 버그 수정', status: 'pending', description: '중요한 버그 수정' },
    { id: '3', title: 'v2.0.4 - 보안 패치', status: 'completed', description: '보안 취약점 수정' },
    { id: '4', title: 'v2.0.3 - 성능 최적화', status: 'completed', description: '성능 개선' }
];
describe('ReleaseList - 릴리즈 리스트/검색/전환 기능', () => {
    beforeEach(() => {
        mockAxios.get.mockClear();
    });
    describe('기본 렌더링 테스트', () => {
        it('릴리즈 목록이 정상적으로 로드되어야 함', async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            // 로딩 상태 확인
            expect(react_1.screen.getByText('로딩 중...')).toBeInTheDocument();
            // 데이터 로드 후 확인
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
                expect(react_1.screen.getByText('v2.0.5 - 버그 수정')).toBeInTheDocument();
                expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
                expect(react_1.screen.getByText('v2.0.3 - 성능 최적화')).toBeInTheDocument();
            });
        });
        it('API 호출이 정상적으로 이루어져야 함', async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            expect(mockAxios.get).toHaveBeenCalledWith('/api/releases');
        });
        it('API 오류 시 빈 목록을 표시해야 함', async () => {
            mockAxios.get.mockRejectedValue(new Error('API Error'));
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('릴리즈가 없습니다.')).toBeInTheDocument();
            });
        });
    });
    describe('검색 기능 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('검색어 입력 시 필터링이 정상 동작해야 함', async () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            // 검색어 입력
            react_1.fireEvent.change(searchInput, { target: { value: '기능' } });
            // 필터링 결과 확인
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            expect(react_1.screen.queryByText('v2.0.5 - 버그 수정')).not.toBeInTheDocument();
        });
        it('대소문자 구분 없이 검색이 동작해야 함', async () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            // 대문자로 검색
            react_1.fireEvent.change(searchInput, { target: { value: 'V2.1' } });
            // 필터링 결과 확인
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
        });
        it('설명에서도 검색이 가능해야 함', async () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            // 설명에서 검색
            react_1.fireEvent.change(searchInput, { target: { value: '새로운' } });
            // 필터링 결과 확인
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
        });
    });
    describe('필터 기능 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('전체 필터 버튼이 정상 동작해야 함', () => {
            const allFilterButton = react_1.screen.getByTestId('release-filter-all');
            react_1.fireEvent.click(allFilterButton);
            // 모든 릴리즈가 표시되어야 함
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.5 - 버그 수정')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.3 - 성능 최적화')).toBeInTheDocument();
        });
        it('진행 중 필터가 정상 동작해야 함', () => {
            const activeFilterButton = react_1.screen.getByTestId('release-filter-active');
            react_1.fireEvent.click(activeFilterButton);
            // 진행 중인 릴리즈만 표시
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            expect(react_1.screen.queryByText('v2.0.5 - 버그 수정')).not.toBeInTheDocument();
        });
        it('완료 필터가 정상 동작해야 함', () => {
            const completedFilterButton = react_1.screen.getByTestId('release-filter-completed');
            react_1.fireEvent.click(completedFilterButton);
            // 완료된 릴리즈만 표시
            expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.3 - 성능 최적화')).toBeInTheDocument();
            expect(react_1.screen.queryByText('v2.1.0 - 기능 개선')).not.toBeInTheDocument();
        });
    });
    describe('선택 기능 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('릴리즈 클릭 시 선택 상태가 변경되어야 함', async () => {
            const releaseItems = react_1.screen.getAllByTestId('release-item-1');
            const releaseItem = releaseItems[0]; // 첫 번째 요소 사용
            react_1.fireEvent.click(releaseItem);
            // 선택된 릴리즈가 하이라이트되어야 함 (aria-label로 확인)
            expect(releaseItem).toHaveAttribute('aria-label', '릴리즈 v2.1.0 - 기능 개선');
        });
        it('선택된 릴리즈 ID가 store에 저장되어야 함', async () => {
            const { store } = renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
            const releaseItems = react_1.screen.getAllByTestId('release-item-2');
            const releaseItem = releaseItems[0]; // 첫 번째 요소 사용
            react_1.fireEvent.click(releaseItem);
            // store 상태 확인
            const state = store.getState();
            expect(state.dashboardLayout.selectedReleaseId).toBe('2');
        });
        it('키보드로도 릴리즈를 선택할 수 있어야 함', async () => {
            const releaseItems = react_1.screen.getAllByTestId('release-item-1');
            const releaseItem = releaseItems[0]; // 첫 번째 요소 사용
            // Enter 키로 선택
            react_1.fireEvent.keyDown(releaseItem, { key: 'Enter', code: 'Enter' });
            // 선택 상태 확인 (배경색 대신 선택된 상태 확인)
            expect(releaseItem).toHaveAttribute('aria-label', '릴리즈 v2.1.0 - 기능 개선');
        });
    });
    describe('검색과 필터 조합 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('검색어와 필터가 동시에 적용되어야 함', () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            const completedFilterButton = react_1.screen.getByTestId('release-filter-completed');
            // 완료 필터 적용
            react_1.fireEvent.click(completedFilterButton);
            // 검색어 입력
            react_1.fireEvent.change(searchInput, { target: { value: '보안' } });
            // 결과 확인 (완료 + 보안 포함)
            expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
            expect(react_1.screen.queryByText('v2.0.3 - 성능 최적화')).not.toBeInTheDocument();
        });
        it('검색어를 지우면 필터만 적용된 결과가 표시되어야 함', () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            const completedFilterButton = react_1.screen.getByTestId('release-filter-completed');
            // 완료 필터 적용
            react_1.fireEvent.click(completedFilterButton);
            // 검색어 입력 후 지우기
            react_1.fireEvent.change(searchInput, { target: { value: '보안' } });
            react_1.fireEvent.change(searchInput, { target: { value: '' } });
            // 완료된 모든 릴리즈가 표시되어야 함
            expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.3 - 성능 최적화')).toBeInTheDocument();
        });
    });
    describe('접근성 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('검색 입력창에 접근성 속성이 있어야 함', () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            expect(searchInput).toHaveAttribute('placeholder', '릴리즈 검색...');
        });
        it('릴리즈 아이템에 접근성 속성이 있어야 함', () => {
            const releaseItems = react_1.screen.getAllByTestId('release-item-1');
            const releaseItem = releaseItems[0]; // 첫 번째 요소 사용
            expect(releaseItem).toHaveAttribute('aria-label', '릴리즈 v2.1.0 - 기능 개선');
            expect(releaseItem).toHaveAttribute('tabIndex', '0');
        });
        it('필터 버튼들이 접근 가능해야 함', () => {
            const allFilterButton = react_1.screen.getByTestId('release-filter-all');
            const activeFilterButton = react_1.screen.getByTestId('release-filter-active');
            expect(allFilterButton).toBeInTheDocument();
            expect(activeFilterButton).toBeInTheDocument();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC90ZXN0cy9yZWxlYXNlLWxpc3QudGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBVUEsV0FBVztBQUNYLElBQUksQ0FBQyxJQUFJLENBQUMsNkJBQTZCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUM5QyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtDQUNmLENBQUMsQ0FBQyxDQUFDO0FBWkosa0RBQTRFO0FBQzVFLDZDQUF1QztBQUN2Qyx5REFBa0Q7QUFDbEQsOENBQWtEO0FBQ2xELDRHQUFvRjtBQUNwRixzR0FBZ0Y7QUFDaEYsd0RBQXFEO0FBQ3JELHFDQUFtQztBQU9uQyxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUV6RCxjQUFjO0FBQ2QsTUFBTSxlQUFlLEdBQUcsQ0FBQyxZQUFZLEdBQUcsRUFBRSxFQUFFLEVBQUU7SUFDNUMsT0FBTyxJQUFBLHdCQUFjLEVBQUM7UUFDcEIsT0FBTyxFQUFFO1lBQ1AsZUFBZSxFQUFFLDhCQUFzQjtTQUN4QztRQUNELGNBQWMsRUFBRTtZQUNkLGVBQWUsRUFBRTtnQkFDZixTQUFTLEVBQUUsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUU7Z0JBQzdDLFVBQVUsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRTtnQkFDOUMsV0FBVyxFQUFFLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRTtnQkFDbkMsU0FBUyxFQUFFLFVBQVU7Z0JBQ3JCLGlCQUFpQixFQUFFLElBQUk7Z0JBQ3ZCLEdBQUcsWUFBWTthQUNoQjtTQUNGO0tBQ0YsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsY0FBYztBQUNkLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxZQUFZLEdBQUcsRUFBRSxFQUFFLEVBQUU7SUFDOUMsTUFBTSxLQUFLLEdBQUcsZUFBZSxDQUFDLFlBQVks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QUFFLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO1lBQy9CLE1BQU0sV0FBVyxHQUFHLGNBQU0sQ0FBQyxXQUFXLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUMvRCxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsZUFBZSxDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUNsRSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUU7WUFDaEMsTUFBTSxZQUFZLEdBQUcsY0FBTSxDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzdELE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWE7WUFDbEQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztZQUN4RSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsZUFBZSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN2RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxHQUFHLEVBQUU7WUFDM0IsTUFBTSxlQUFlLEdBQUcsY0FBTSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBQ2pFLE1BQU0sa0JBQWtCLEdBQUcsY0FBTSxDQUFDLFdBQVcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1lBRXZFLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQzVDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDakQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy8zaS1hMS0yMDIxLTAxNy9EZXNrdG9wL215LXByb2plY3QvdGVzdHMvcmVsZWFzZS1saXN0LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBjb25maWd1cmVTdG9yZSB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IFJlbGVhc2VMaXN0IGZyb20gJy4uL3NyYy9yZW5kZXJlci9mZWF0dXJlcy9EYXNoYm9hcmQvY29tcG9uZW50cy9SZWxlYXNlTGlzdCc7XG5pbXBvcnQgZGFzaGJvYXJkTGF5b3V0UmVkdWNlciBmcm9tICcuLi9zcmMvcmVuZGVyZXIvc3RvcmUvZGFzaGJvYXJkTGF5b3V0U2xpY2UnO1xuaW1wb3J0IHsgdGhlbWUgfSBmcm9tICcuLi9zcmMvcmVuZGVyZXIvc2hhcmVkL3RoZW1lJztcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XG5cbi8vIGF4aW9zIOuqqO2CuVxuamVzdC5tb2NrKCcuLi9zcmMvcmVuZGVyZXIvdXRpbHMvYXhpb3MnLCAoKSA9PiAoe1xuICBnZXQ6IGplc3QuZm4oKVxufSkpO1xuXG5jb25zdCBtb2NrQXhpb3MgPSByZXF1aXJlKCcuLi9zcmMvcmVuZGVyZXIvdXRpbHMvYXhpb3MnKTtcblxuLy8g7YWM7Iqk7Yq47JqpIOyKpO2GoOyWtCDshKTsoJVcbmNvbnN0IGNyZWF0ZVRlc3RTdG9yZSA9IChpbml0aWFsU3RhdGUgPSB7fSkgPT4ge1xuICByZXR1cm4gY29uZmlndXJlU3RvcmUoe1xuICAgIHJlZHVjZXI6IHtcbiAgICAgIGRhc2hib2FyZExheW91dDogZGFzaGJvYXJkTGF5b3V0UmVkdWNlclxuICAgIH0sXG4gICAgcHJlbG9hZGVkU3RhdGU6IHtcbiAgICAgIGRhc2hib2FyZExheW91dDoge1xuICAgICAgICBsZWZ0UGFuZWw6IHsgaXNDb2xsYXBzZWQ6IGZhbHNlLCB3aWR0aDogMjgwIH0sXG4gICAgICAgIHJpZ2h0UGFuZWw6IHsgaXNDb2xsYXBzZWQ6IGZhbHNlLCB3aWR0aDogMzIwIH0sXG4gICAgICAgIGNlbnRlclBhbmVsOiB7IGlzRnVsbFdpZHRoOiBmYWxzZSB9LFxuICAgICAgICBhY3RpdmVUYWI6ICdvdmVydmlldycsXG4gICAgICAgIHNlbGVjdGVkUmVsZWFzZUlkOiBudWxsLFxuICAgICAgICAuLi5pbml0aWFsU3RhdGVcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuLy8g7Lu07Y+s64SM7Yq4IOugjOuNlOungSDtl6ztjbxcbmNvbnN0IHJlbmRlclJlbGVhc2VMaXN0ID0gKGluaXRpYWxTdGF0ZSA9IHt9KSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gY3JlYXRlVGVzdFN0b3JlKGluaXRpYWxTdGF0ZSk7XG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlcihcbiAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICAgIDxUaGVtZVByb3ZpZGVyIHRoZW1lPXt0aGVtZX0+XG4gICAgICAgIDxSZWxlYXNlTGlzdCAvPlxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgIDwvUHJvdmlkZXI+XG4gICk7XG4gIHJldHVybiB7IC4uLnJlc3VsdCwgc3RvcmUgfTtcbn07XG5cbmNvbnN0IG1vY2tSZWxlYXNlcyA9IFtcbiAgeyBpZDogJzEnLCB0aXRsZTogJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnLCBzdGF0dXM6ICdhY3RpdmUnLCBkZXNjcmlwdGlvbjogJ+yDiOuhnOyatCDquLDriqUg7LaU6rCAJyB9LFxuICB7IGlkOiAnMicsIHRpdGxlOiAndjIuMC41IC0g67KE6re4IOyImOyglScsIHN0YXR1czogJ3BlbmRpbmcnLCBkZXNjcmlwdGlvbjogJ+ykkeyalO2VnCDrsoTqt7gg7IiY7KCVJyB9LFxuICB7IGlkOiAnMycsIHRpdGxlOiAndjIuMC40IC0g67O07JWIIO2MqOy5mCcsIHN0YXR1czogJ2NvbXBsZXRlZCcsIGRlc2NyaXB0aW9uOiAn67O07JWIIOy3qOyVveygkCDsiJjsoJUnIH0sXG4gIHsgaWQ6ICc0JywgdGl0bGU6ICd2Mi4wLjMgLSDshLHriqUg7LWc7KCB7ZmUJywgc3RhdHVzOiAnY29tcGxldGVkJywgZGVzY3JpcHRpb246ICfshLHriqUg6rCc7ISgJyB9XG5dO1xuXG5kZXNjcmliZSgnUmVsZWFzZUxpc3QgLSDrprTrpqzspogg66as7Iqk7Yq4L+qygOyDiS/soITtmZgg6riw64qlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrQXhpb3MuZ2V0Lm1vY2tDbGVhcigpO1xuICB9KTtcblxuICBkZXNjcmliZSgn6riw67O4IOugjOuNlOungSDthYzsiqTtirgnLCAoKSA9PiB7XG4gICAgaXQoJ+umtOumrOymiCDrqqnroZ3snbQg7KCV7IOB7KCB7Jy866GcIOuhnOuTnOuQmOyWtOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja1JlbGVhc2VzIH0pO1xuICAgICAgXG4gICAgICByZW5kZXJSZWxlYXNlTGlzdCgpO1xuICAgICAgXG4gICAgICAvLyDroZzrlKkg7IOB7YOcIO2ZleyduFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+uhnOuUqSDspJEuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIFxuICAgICAgLy8g642w7J207YSwIOuhnOuTnCDtm4Qg7ZmV7J24XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjAuNSAtIOuyhOq3uCDsiJjsoJUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjAuNCAtIOuztOyViCDtjKjsuZgnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjAuMyAtIOyEseuKpSDstZzsoIHtmZQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ0FQSSDtmLjstpzsnbQg7KCV7IOB7KCB7Jy866GcIOydtOujqOyWtOyguOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja1JlbGVhc2VzIH0pO1xuICAgICAgXG4gICAgICByZW5kZXJSZWxlYXNlTGlzdCgpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0F4aW9zLmdldCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvcmVsZWFzZXMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdBUEkg7Jik66WYIOyLnCDruYgg66qp66Gd7J2EIO2RnOyLnO2VtOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3MuZ2V0Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQVBJIEVycm9yJykpO1xuICAgICAgXG4gICAgICByZW5kZXJSZWxlYXNlTGlzdCgpO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+umtOumrOymiOqwgCDsl4bsirXri4jri6QuJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+qygOyDiSDquLDriqUg7YWM7Iqk7Yq4JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0F4aW9zLmdldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG1vY2tSZWxlYXNlcyB9KTtcbiAgICAgIHJlbmRlclJlbGVhc2VMaXN0KCk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+qygOyDieyWtCDsnoXroKUg7IucIO2VhO2EsOungeydtCDsoJXsg4Eg64+Z7J6R7ZW07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLXNlYXJjaC1pbnB1dCcpO1xuICAgICAgXG4gICAgICAvLyDqsoDsg4nslrQg7J6F66ClXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ+q4sOuKpScgfSB9KTtcbiAgICAgIFxuICAgICAgLy8g7ZWE7YSw66eBIOqysOqzvCDtmZXsnbhcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4xLjAgLSDquLDriqUg6rCc7ISgJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCd2Mi4wLjUgLSDrsoTqt7gg7IiY7KCVJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+uMgOyGjOusuOyekCDqtazrtoQg7JeG7J20IOqygOyDieydtCDrj5nsnpHtlbTslbwg7ZWoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2Utc2VhcmNoLWlucHV0Jyk7XG4gICAgICBcbiAgICAgIC8vIOuMgOusuOyekOuhnCDqsoDsg4lcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVjIuMScgfSB9KTtcbiAgICAgIFxuICAgICAgLy8g7ZWE7YSw66eBIOqysOqzvCDtmZXsnbhcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4xLjAgLSDquLDriqUg6rCc7ISgJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgn7ISk66qF7JeQ7ISc64+EIOqygOyDieydtCDqsIDriqXtlbTslbwg7ZWoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2Utc2VhcmNoLWlucHV0Jyk7XG4gICAgICBcbiAgICAgIC8vIOyEpOuqheyXkOyEnCDqsoDsg4lcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAn7IOI66Gc7Jq0JyB9IH0pO1xuICAgICAgXG4gICAgICAvLyDtlYTthLDrp4Eg6rKw6rO8IO2ZleyduFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+2VhO2EsCDquLDriqUg7YWM7Iqk7Yq4JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0F4aW9zLmdldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG1vY2tSZWxlYXNlcyB9KTtcbiAgICAgIHJlbmRlclJlbGVhc2VMaXN0KCk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+yghOyytCDtlYTthLAg67KE7Yq87J20IOygleyDgSDrj5nsnpHtlbTslbwg7ZWoJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWxsRmlsdGVyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLWZpbHRlci1hbGwnKTtcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGFsbEZpbHRlckJ1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIOuqqOuToCDrprTrpqzspojqsIAg7ZGc7Iuc65CY7Ja07JW8IO2VqFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4wLjUgLSDrsoTqt7gg7IiY7KCVJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMC40IC0g67O07JWIIO2MqOy5mCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjAuMyAtIOyEseuKpSDstZzsoIHtmZQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCfsp4Ttlokg7KSRIO2VhO2EsOqwgCDsoJXsg4Eg64+Z7J6R7ZW07JW8IO2VqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGFjdGl2ZUZpbHRlckJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVsZWFzZS1maWx0ZXItYWN0aXZlJyk7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5jbGljayhhY3RpdmVGaWx0ZXJCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyDsp4Ttlokg7KSR7J24IOumtOumrOymiOunjCDtkZzsi5xcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4xLjAgLSDquLDriqUg6rCc7ISgJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCd2Mi4wLjUgLSDrsoTqt7gg7IiY7KCVJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+yZhOujjCDtlYTthLDqsIAg7KCV7IOBIOuPmeyeke2VtOyVvCDtlagnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb21wbGV0ZWRGaWx0ZXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2UtZmlsdGVyLWNvbXBsZXRlZCcpO1xuICAgICAgXG4gICAgICBmaXJlRXZlbnQuY2xpY2soY29tcGxldGVkRmlsdGVyQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8g7JmE66OM65CcIOumtOumrOymiOunjCDtkZzsi5xcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4wLjQgLSDrs7TslYgg7Yyo7LmYJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMC4zIC0g7ISx64qlIOy1nOygge2ZlCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+yEoO2DnSDquLDriqUg7YWM7Iqk7Yq4JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0F4aW9zLmdldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG1vY2tSZWxlYXNlcyB9KTtcbiAgICAgIHJlbmRlclJlbGVhc2VMaXN0KCk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+umtOumrOymiCDtgbTrpq0g7IucIOyEoO2DnSDsg4Htg5zqsIAg67OA6rK965CY7Ja07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlbGVhc2VJdGVtcyA9IHNjcmVlbi5nZXRBbGxCeVRlc3RJZCgncmVsZWFzZS1pdGVtLTEnKTtcbiAgICAgIGNvbnN0IHJlbGVhc2VJdGVtID0gcmVsZWFzZUl0ZW1zWzBdOyAvLyDssqsg67KI7Ke4IOyalOyGjCDsgqzsmqlcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHJlbGVhc2VJdGVtKTtcbiAgICAgIFxuICAgICAgLy8g7ISg7YOd65CcIOumtOumrOymiOqwgCDtlZjsnbTrnbzsnbTtirjrkJjslrTslbwg7ZWoIChhcmlhLWxhYmVs66GcIO2ZleyduClcbiAgICAgIGV4cGVjdChyZWxlYXNlSXRlbSkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ+umtOumrOymiCB2Mi4xLjAgLSDquLDriqUg6rCc7ISgJyk7XG4gICAgfSk7XG5cbiAgICBpdCgn7ISg7YOd65CcIOumtOumrOymiCBJROqwgCBzdG9yZeyXkCDsoIDsnqXrkJjslrTslbwg7ZWoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBzdG9yZSB9ID0gcmVuZGVyUmVsZWFzZUxpc3QoKTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlbGVhc2VJdGVtcyA9IHNjcmVlbi5nZXRBbGxCeVRlc3RJZCgncmVsZWFzZS1pdGVtLTInKTtcbiAgICAgIGNvbnN0IHJlbGVhc2VJdGVtID0gcmVsZWFzZUl0ZW1zWzBdOyAvLyDssqsg67KI7Ke4IOyalOyGjCDsgqzsmqlcbiAgICAgIGZpcmVFdmVudC5jbGljayhyZWxlYXNlSXRlbSk7XG4gICAgICBcbiAgICAgIC8vIHN0b3JlIOyDge2DnCDtmZXsnbhcbiAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5kYXNoYm9hcmRMYXlvdXQuc2VsZWN0ZWRSZWxlYXNlSWQpLnRvQmUoJzInKTtcbiAgICB9KTtcblxuICAgIGl0KCftgqTrs7Trk5zroZzrj4Qg66a066as7KaI66W8IOyEoO2Dne2VoCDsiJgg7J6I7Ja07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlbGVhc2VJdGVtcyA9IHNjcmVlbi5nZXRBbGxCeVRlc3RJZCgncmVsZWFzZS1pdGVtLTEnKTtcbiAgICAgIGNvbnN0IHJlbGVhc2VJdGVtID0gcmVsZWFzZUl0ZW1zWzBdOyAvLyDssqsg67KI7Ke4IOyalOyGjCDsgqzsmqlcbiAgICAgIFxuICAgICAgLy8gRW50ZXIg7YKk66GcIOyEoO2DnVxuICAgICAgZmlyZUV2ZW50LmtleURvd24ocmVsZWFzZUl0ZW0sIHsga2V5OiAnRW50ZXInLCBjb2RlOiAnRW50ZXInIH0pO1xuICAgICAgXG4gICAgICAvLyDshKDtg50g7IOB7YOcIO2ZleyduCAo67Cw6rK97IOJIOuMgOyLoCDshKDtg53rkJwg7IOB7YOcIO2ZleyduClcbiAgICAgIGV4cGVjdChyZWxlYXNlSXRlbSkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ+umtOumrOymiCB2Mi4xLjAgLSDquLDriqUg6rCc7ISgJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfqsoDsg4nqs7wg7ZWE7YSwIOyhsO2VqSDthYzsiqTtirgnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja1JlbGVhc2VzIH0pO1xuICAgICAgcmVuZGVyUmVsZWFzZUxpc3QoKTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn6rKA7IOJ7Ja07JmAIO2VhO2EsOqwgCDrj5nsi5zsl5Ag7KCB7Jqp65CY7Ja07JW8IO2VqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLXNlYXJjaC1pbnB1dCcpO1xuICAgICAgY29uc3QgY29tcGxldGVkRmlsdGVyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLWZpbHRlci1jb21wbGV0ZWQnKTtcbiAgICAgIFxuICAgICAgLy8g7JmE66OMIO2VhO2EsCDsoIHsmqlcbiAgICAgIGZpcmVFdmVudC5jbGljayhjb21wbGV0ZWRGaWx0ZXJCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyDqsoDsg4nslrQg7J6F66ClXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ+uztOyViCcgfSB9KTtcbiAgICAgIFxuICAgICAgLy8g6rKw6rO8IO2ZleyduCAo7JmE66OMICsg67O07JWIIO2PrO2VqClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4wLjQgLSDrs7TslYgg7Yyo7LmYJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCd2Mi4wLjMgLSDshLHriqUg7LWc7KCB7ZmUJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+qygOyDieyWtOulvCDsp4DsmrDrqbQg7ZWE7YSw66eMIOyggeyaqeuQnCDqsrDqs7zqsIAg7ZGc7Iuc65CY7Ja07JW8IO2VqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLXNlYXJjaC1pbnB1dCcpO1xuICAgICAgY29uc3QgY29tcGxldGVkRmlsdGVyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLWZpbHRlci1jb21wbGV0ZWQnKTtcbiAgICAgIFxuICAgICAgLy8g7JmE66OMIO2VhO2EsCDsoIHsmqlcbiAgICAgIGZpcmVFdmVudC5jbGljayhjb21wbGV0ZWRGaWx0ZXJCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyDqsoDsg4nslrQg7J6F66ClIO2bhCDsp4DsmrDquLBcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAn67O07JWIJyB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICcnIH0gfSk7XG4gICAgICBcbiAgICAgIC8vIOyZhOujjOuQnCDrqqjrk6Ag66a066as7KaI6rCAIO2RnOyLnOuQmOyWtOyVvCDtlahcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4wLjQgLSDrs7TslYgg7Yyo7LmYJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMC4zIC0g7ISx64qlIOy1nOygge2ZlCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn7KCR6re87ISxIO2FjOyKpO2KuCcsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBeGlvcy5nZXQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrUmVsZWFzZXMgfSk7XG4gICAgICByZW5kZXJSZWxlYXNlTGlzdCgpO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4xLjAgLSDquLDriqUg6rCc7ISgJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCfqsoDsg4kg7J6F66Cl7LC97JeQIOygkeq3vOyEsSDsho3shLHsnbQg7J6I7Ja07JW8IO2VqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLXNlYXJjaC1pbnB1dCcpO1xuICAgICAgZXhwZWN0KHNlYXJjaElucHV0KS50b0hhdmVBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ+umtOumrOymiCDqsoDsg4kuLi4nKTtcbiAgICB9KTtcblxuICAgIGl0KCfrprTrpqzspogg7JWE7J207YWc7JeQIOygkeq3vOyEsSDsho3shLHsnbQg7J6I7Ja07JW8IO2VqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlbGVhc2VJdGVtcyA9IHNjcmVlbi5nZXRBbGxCeVRlc3RJZCgncmVsZWFzZS1pdGVtLTEnKTtcbiAgICAgIGNvbnN0IHJlbGVhc2VJdGVtID0gcmVsZWFzZUl0ZW1zWzBdOyAvLyDssqsg67KI7Ke4IOyalOyGjCDsgqzsmqlcbiAgICAgIGV4cGVjdChyZWxlYXNlSXRlbSkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ+umtOumrOymiCB2Mi4xLjAgLSDquLDriqUg6rCc7ISgJyk7XG4gICAgICBleHBlY3QocmVsZWFzZUl0ZW0pLnRvSGF2ZUF0dHJpYnV0ZSgndGFiSW5kZXgnLCAnMCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+2VhO2EsCDrsoTtirzrk6TsnbQg7KCR6re8IOqwgOuKpe2VtOyVvCDtlagnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbGxGaWx0ZXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2UtZmlsdGVyLWFsbCcpO1xuICAgICAgY29uc3QgYWN0aXZlRmlsdGVyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLWZpbHRlci1hY3RpdmUnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGFsbEZpbHRlckJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChhY3RpdmVGaWx0ZXJCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7ICJdLCJ2ZXJzaW9uIjozfQ==