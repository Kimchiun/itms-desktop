6b680fe09073643cecc86a6e1aed393a
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const cors_1 = __importDefault(require("cors"));
const passport_1 = __importDefault(require("./infrastructure/security/passport"));
const authController_1 = __importDefault(require("./domains/users/controllers/authController"));
const testCaseController_1 = __importDefault(require("./domains/testcases/controllers/testCaseController"));
const releaseController_1 = __importDefault(require("./domains/releases/controllers/releaseController"));
const executionController_1 = __importDefault(require("./domains/executions/controllers/executionController"));
const integrationController_1 = __importDefault(require("./domains/executions/controllers/integrationController"));
const dashboardController_1 = __importDefault(require("./controllers/dashboardController"));
const commentController_1 = __importDefault(require("./domains/comments/controllers/commentController"));
const folderController_1 = __importDefault(require("./domains/folders/controllers/folderController"));
const app = (0, express_1.default)();
app.use(express_1.default.json());
app.use((0, cors_1.default)({
    origin: ['http://localhost:4000', 'http://127.0.0.1:4000'],
    credentials: true,
    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
    allowedHeaders: ['Content-Type', 'Authorization']
}));
app.use(passport_1.default.initialize());
app.use('/api/auth', authController_1.default);
app.use('/api/testcases', testCaseController_1.default);
app.use('/api/releases', releaseController_1.default);
app.use('/api/executions', executionController_1.default);
app.use('/api/integrations', integrationController_1.default);
app.use('/api/dashboard', dashboardController_1.default);
app.use('/api/comments', commentController_1.default);
app.use('/api/folders', folderController_1.default);
app.get('/health', (req, res) => {
    res.json({ status: 'ok' });
});
exports.default = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC9zcmMvbWFpbi9hcHAvYXBwLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsc0RBQThCO0FBQzlCLGdEQUF3QjtBQUN4QixrRkFBMEQ7QUFDMUQsZ0dBQXdFO0FBQ3hFLDRHQUFvRjtBQUNwRix5R0FBaUY7QUFDakYsK0dBQXVGO0FBQ3ZGLG1IQUEyRjtBQUMzRiw0RkFBb0U7QUFDcEUseUdBQWlGO0FBQ2pGLHNHQUE4RTtBQUU5RSxNQUFNLEdBQUcsR0FBRyxJQUFBLGlCQUFPLEdBQUUsQ0FBQztBQUV0QixHQUFHLENBQUMsR0FBRyxDQUFDLGlCQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUN4QixHQUFHLENBQUMsR0FBRyxDQUFDLElBQUEsY0FBSSxFQUFDO0lBQ1gsTUFBTSxFQUFFLENBQUMsdUJBQXVCLEVBQUUsdUJBQXVCLENBQUM7SUFDMUQsV0FBVyxFQUFFLElBQUk7SUFDakIsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFNBQVMsQ0FBQztJQUNwRCxjQUFjLEVBQUUsQ0FBQyxjQUFjLEVBQUUsZUFBZSxDQUFDO0NBQ2xELENBQUMsQ0FBQyxDQUFDO0FBQ0osR0FBRyxDQUFDLEdBQUcsQ0FBQyxrQkFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7QUFFL0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsd0JBQWMsQ0FBQyxDQUFDO0FBQ3JDLEdBQUcsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsNEJBQWtCLENBQUMsQ0FBQztBQUM5QyxHQUFHLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSwyQkFBaUIsQ0FBQyxDQUFDO0FBQzVDLEdBQUcsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsNkJBQW1CLENBQUMsQ0FBQztBQUNoRCxHQUFHLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFFLCtCQUFxQixDQUFDLENBQUM7QUFDcEQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSw2QkFBbUIsQ0FBQyxDQUFDO0FBQy9DLEdBQUcsQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLDJCQUFpQixDQUFDLENBQUM7QUFDNUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsMEJBQWdCLENBQUMsQ0FBQztBQUUxQyxHQUFHLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUM1QixHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7QUFDL0IsQ0FBQyxDQUFDLENBQUM7QUFFSCxrQkFBZSxHQUFHLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC9zcmMvbWFpbi9hcHAvYXBwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAnLi9pbmZyYXN0cnVjdHVyZS9zZWN1cml0eS9wYXNzcG9ydCc7XG5pbXBvcnQgYXV0aENvbnRyb2xsZXIgZnJvbSAnLi9kb21haW5zL3VzZXJzL2NvbnRyb2xsZXJzL2F1dGhDb250cm9sbGVyJztcbmltcG9ydCB0ZXN0Q2FzZUNvbnRyb2xsZXIgZnJvbSAnLi9kb21haW5zL3Rlc3RjYXNlcy9jb250cm9sbGVycy90ZXN0Q2FzZUNvbnRyb2xsZXInO1xuaW1wb3J0IHJlbGVhc2VDb250cm9sbGVyIGZyb20gJy4vZG9tYWlucy9yZWxlYXNlcy9jb250cm9sbGVycy9yZWxlYXNlQ29udHJvbGxlcic7XG5pbXBvcnQgZXhlY3V0aW9uQ29udHJvbGxlciBmcm9tICcuL2RvbWFpbnMvZXhlY3V0aW9ucy9jb250cm9sbGVycy9leGVjdXRpb25Db250cm9sbGVyJztcbmltcG9ydCBpbnRlZ3JhdGlvbkNvbnRyb2xsZXIgZnJvbSAnLi9kb21haW5zL2V4ZWN1dGlvbnMvY29udHJvbGxlcnMvaW50ZWdyYXRpb25Db250cm9sbGVyJztcbmltcG9ydCBkYXNoYm9hcmRDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcnMvZGFzaGJvYXJkQ29udHJvbGxlcic7XG5pbXBvcnQgY29tbWVudENvbnRyb2xsZXIgZnJvbSAnLi9kb21haW5zL2NvbW1lbnRzL2NvbnRyb2xsZXJzL2NvbW1lbnRDb250cm9sbGVyJztcbmltcG9ydCBmb2xkZXJDb250cm9sbGVyIGZyb20gJy4vZG9tYWlucy9mb2xkZXJzL2NvbnRyb2xsZXJzL2ZvbGRlckNvbnRyb2xsZXInO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShjb3JzKHtcbiAgb3JpZ2luOiBbJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMCcsICdodHRwOi8vMTI3LjAuMC4xOjQwMDAnXSxcbiAgY3JlZGVudGlhbHM6IHRydWUsXG4gIG1ldGhvZHM6IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURScsICdPUFRJT05TJ10sXG4gIGFsbG93ZWRIZWFkZXJzOiBbJ0NvbnRlbnQtVHlwZScsICdBdXRob3JpemF0aW9uJ11cbn0pKTtcbmFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTtcblxuYXBwLnVzZSgnL2FwaS9hdXRoJywgYXV0aENvbnRyb2xsZXIpO1xuYXBwLnVzZSgnL2FwaS90ZXN0Y2FzZXMnLCB0ZXN0Q2FzZUNvbnRyb2xsZXIpO1xuYXBwLnVzZSgnL2FwaS9yZWxlYXNlcycsIHJlbGVhc2VDb250cm9sbGVyKTtcbmFwcC51c2UoJy9hcGkvZXhlY3V0aW9ucycsIGV4ZWN1dGlvbkNvbnRyb2xsZXIpO1xuYXBwLnVzZSgnL2FwaS9pbnRlZ3JhdGlvbnMnLCBpbnRlZ3JhdGlvbkNvbnRyb2xsZXIpO1xuYXBwLnVzZSgnL2FwaS9kYXNoYm9hcmQnLCBkYXNoYm9hcmRDb250cm9sbGVyKTtcbmFwcC51c2UoJy9hcGkvY29tbWVudHMnLCBjb21tZW50Q29udHJvbGxlcik7XG5hcHAudXNlKCcvYXBpL2ZvbGRlcnMnLCBmb2xkZXJDb250cm9sbGVyKTtcblxuYXBwLmdldCgnL2hlYWx0aCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHsgc3RhdHVzOiAnb2snIH0pO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwcDsgIl0sInZlcnNpb24iOjN9