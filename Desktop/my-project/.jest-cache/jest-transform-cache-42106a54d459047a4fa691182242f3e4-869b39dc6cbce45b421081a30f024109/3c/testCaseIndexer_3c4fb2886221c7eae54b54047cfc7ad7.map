{"file":"/Users/3i-a1-2021-017/Desktop/my-project/src/main/app/domains/testcases/elasticsearch/testCaseIndexer.ts","mappings":";;;;;AAKA,sCAMC;AAED,0DAKC;AAED,0CAOC;AA3BD,8FAAsE;AAGtE,MAAM,KAAK,GAAG,WAAW,CAAC;AAEnB,KAAK,UAAU,aAAa,CAAC,EAAY;IAC5C,MAAM,kBAAQ,CAAC,KAAK,CAAC;QACjB,KAAK,EAAE,KAAK;QACZ,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE;QACpB,QAAQ,EAAE,EAAE;KACf,CAAC,CAAC;AACP,CAAC;AAEM,KAAK,UAAU,uBAAuB,CAAC,EAAU;IACpD,MAAM,kBAAQ,CAAC,MAAM,CAAC;QAClB,KAAK,EAAE,KAAK;QACZ,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE;KACpB,CAAC,CAAC;AACP,CAAC;AAEM,KAAK,UAAU,eAAe,CAAC,KAAU;IAC5C,MAAM,MAAM,GAAG,MAAM,kBAAQ,CAAC,MAAM,CAAC;QACjC,KAAK,EAAE,KAAK;QACZ,IAAI,EAAE,KAAK;KACd,CAAC,CAAC;IACH,sCAAsC;IACtC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAQ,EAAE,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAC3D,CAAC","names":[],"sources":["/Users/3i-a1-2021-017/Desktop/my-project/src/main/app/domains/testcases/elasticsearch/testCaseIndexer.ts"],"sourcesContent":["import esClient from '../../../infrastructure/elasticsearch/esClient';\nimport { TestCase } from '../models/TestCase';\n\nconst INDEX = 'testcases';\n\nexport async function indexTestCase(tc: TestCase) {\n    await esClient.index({\n        index: INDEX,\n        id: tc.id.toString(),\n        document: tc,\n    });\n}\n\nexport async function removeTestCaseFromIndex(id: number) {\n    await esClient.delete({\n        index: INDEX,\n        id: id.toString(),\n    });\n}\n\nexport async function searchTestCases(query: any) {\n    const result = await esClient.search({\n        index: INDEX,\n        body: query,\n    });\n    // elasticsearch 8.x: result.hits.hits\n    return result.hits.hits.map((hit: any) => hit._source);\n} "],"version":3}