d8f89aee078bd26de935440b84b8addb
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const styled_components_1 = __importDefault(require("styled-components"));
const react_redux_1 = require("react-redux");
const axios_1 = __importDefault(require("../../../utils/axios"));
const TestCaseList_1 = __importDefault(require("./TestCaseList"));
const DefectList_1 = __importDefault(require("./DefectList"));
const ReportOverview_1 = __importDefault(require("./ReportOverview"));
const Container = styled_components_1.default.div `
  padding: 20px;
  height: 100%;
  overflow-y: auto;
`;
const Header = styled_components_1.default.div `
  margin-bottom: 24px;
`;
const Title = styled_components_1.default.h1 `
  margin: 0 0 8px 0;
  font-size: 24px;
  font-weight: 600;
  color: #1e293b;
`;
const Subtitle = styled_components_1.default.p `
  margin: 0;
  color: #64748b;
  font-size: 14px;
`;
const TabContainer = styled_components_1.default.div `
  margin-bottom: 20px;
`;
const TabList = styled_components_1.default.div `
  display: flex;
  border-bottom: 1px solid #e2e8f0;
  margin-bottom: 20px;
`;
const TabButton = styled_components_1.default.button `
  padding: 12px 24px;
  border: none;
  background: ${({ active }) => (active ? '#3b82f6' : 'transparent')};
  color: ${({ active }) => (active ? 'white' : '#64748b')};
  font-weight: 500;
  cursor: pointer;
  border-radius: 6px 6px 0 0;
  transition: all 0.2s;
  
  &:hover {
    background: ${({ active }) => (active ? '#2563eb' : '#f1f5f9')};
    color: ${({ active }) => (active ? 'white' : '#1e293b')};
  }
`;
const TabContent = styled_components_1.default.div `
  min-height: 400px;
`;
const LoadingSpinner = styled_components_1.default.div `
  text-align: center;
  padding: 40px;
  color: #64748b;
`;
const ErrorMessage = styled_components_1.default.div `
  text-align: center;
  padding: 40px;
  color: #ef4444;
`;
const NoSelection = styled_components_1.default.div `
  text-align: center;
  padding: 40px;
  color: #64748b;
`;
const tabs = [
    { id: 'testcases', label: '테스트케이스', icon: '🧪' },
    { id: 'defects', label: '결함', icon: '🐛' },
    { id: 'reports', label: '보고서', icon: '📊' }
];
const CentralReleaseDetail = () => {
    const selectedReleaseId = (0, react_redux_1.useSelector)((state) => state.dashboardLayout.selectedReleaseId);
    const [selectedRelease, setSelectedRelease] = (0, react_1.useState)(null);
    const [activeTab, setActiveTab] = (0, react_1.useState)('testcases');
    const [tabData, setTabData] = (0, react_1.useState)({
        testCases: [],
        defects: [],
        reports: {}
    });
    const [loading, setLoading] = (0, react_1.useState)(false);
    const [error, setError] = (0, react_1.useState)(null);
    // 릴리즈 상세 정보 로드
    (0, react_1.useEffect)(() => {
        if (selectedReleaseId) {
            setLoading(true);
            setError(null);
            axios_1.default.get(`/api/releases/${selectedReleaseId}`)
                .then((res) => {
                setSelectedRelease(res.data);
                setLoading(false);
            })
                .catch(() => {
                setSelectedRelease(null);
                setError('릴리즈 정보를 불러올 수 없습니다.');
                setLoading(false);
            });
        }
        else {
            setSelectedRelease(null);
            setTabData({ testCases: [], defects: [], reports: {} });
        }
    }, [selectedReleaseId]);
    // 탭별 데이터 로드
    (0, react_1.useEffect)(() => {
        if (selectedReleaseId && activeTab) {
            loadTabData(selectedReleaseId, activeTab);
        }
    }, [selectedReleaseId, activeTab]);
    const loadTabData = async (releaseId, tab) => {
        try {
            switch (tab) {
                case 'testcases':
                    const testCasesRes = await axios_1.default.get(`/api/releases/${releaseId}/testcases`);
                    setTabData(prev => ({ ...prev, testCases: testCasesRes.data }));
                    break;
                case 'defects':
                    const defectsRes = await axios_1.default.get(`/api/releases/${releaseId}/defects`);
                    setTabData(prev => ({ ...prev, defects: defectsRes.data }));
                    break;
                case 'reports':
                    const reportsRes = await axios_1.default.get(`/api/releases/${releaseId}/reports`);
                    setTabData(prev => ({ ...prev, reports: reportsRes.data }));
                    break;
            }
        }
        catch (error) {
            console.error(`${tab} 데이터 로드 실패:`, error);
        }
    };
    const handleTabChange = (tabId) => {
        setActiveTab(tabId);
    };
    const renderTabContent = () => {
        if (!selectedReleaseId) {
            return ((0, jsx_runtime_1.jsxs)(NoSelection, { children: [(0, jsx_runtime_1.jsx)("h3", { children: "\uB9B4\uB9AC\uC988\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694" }), (0, jsx_runtime_1.jsx)("p", { children: "\uC88C\uCE21 \uD328\uB110\uC5D0\uC11C \uB9B4\uB9AC\uC988\uB97C \uC120\uD0DD\uD558\uBA74 \uC0C1\uC138 \uC815\uBCF4\uB97C \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4." })] }));
        }
        if (loading) {
            return (0, jsx_runtime_1.jsx)(LoadingSpinner, { children: "\uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC624\uB294 \uC911..." });
        }
        if (error) {
            return (0, jsx_runtime_1.jsx)(ErrorMessage, { children: error });
        }
        switch (activeTab) {
            case 'testcases':
                return ((0, jsx_runtime_1.jsx)(TestCaseList_1.default, { releaseId: selectedReleaseId, testCases: tabData.testCases, onDataChange: () => loadTabData(selectedReleaseId, 'testcases') }));
            case 'defects':
                return ((0, jsx_runtime_1.jsx)(DefectList_1.default, { releaseId: selectedReleaseId, defects: tabData.defects, onDataChange: () => loadTabData(selectedReleaseId, 'defects') }));
            case 'reports':
                return ((0, jsx_runtime_1.jsx)(ReportOverview_1.default, { releaseId: selectedReleaseId, reports: tabData.reports }));
            default:
                return (0, jsx_runtime_1.jsx)("div", { children: "\uC54C \uC218 \uC5C6\uB294 \uD0ED\uC785\uB2C8\uB2E4." });
        }
    };
    const statusLabels = {
        active: '진행 중',
        pending: '대기 중',
        completed: '완료'
    };
    if (!selectedReleaseId) {
        return ((0, jsx_runtime_1.jsxs)(Container, { children: [(0, jsx_runtime_1.jsxs)(Header, { children: [(0, jsx_runtime_1.jsx)(Title, { children: "\uB9B4\uB9AC\uC988 \uC0C1\uC138" }), (0, jsx_runtime_1.jsx)(Subtitle, { children: "\uB9B4\uB9AC\uC988\uBCC4 \uD14C\uC2A4\uD2B8\uCF00\uC774\uC2A4, \uACB0\uD568, \uBCF4\uACE0\uC11C\uB97C \uD655\uC778\uD558\uC138\uC694" })] }), (0, jsx_runtime_1.jsxs)(NoSelection, { children: [(0, jsx_runtime_1.jsx)("h3", { children: "\uB9B4\uB9AC\uC988\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694" }), (0, jsx_runtime_1.jsx)("p", { children: "\uC88C\uCE21 \uD328\uB110\uC5D0\uC11C \uB9B4\uB9AC\uC988\uB97C \uC120\uD0DD\uD558\uBA74 \uC0C1\uC138 \uC815\uBCF4\uB97C \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4." })] })] }));
    }
    return ((0, jsx_runtime_1.jsxs)(Container, { children: [(0, jsx_runtime_1.jsxs)(Header, { children: [(0, jsx_runtime_1.jsx)(Title, { children: "\uB9B4\uB9AC\uC988 \uC0C1\uC138" }), (0, jsx_runtime_1.jsx)(Subtitle, { children: "\uB9B4\uB9AC\uC988\uBCC4 \uD14C\uC2A4\uD2B8\uCF00\uC774\uC2A4, \uACB0\uD568, \uBCF4\uACE0\uC11C\uB97C \uD655\uC778\uD558\uC138\uC694" })] }), selectedRelease && ((0, jsx_runtime_1.jsxs)("div", { style: { marginBottom: '20px', padding: '16px', background: 'white', borderRadius: '8px', border: '1px solid #e2e8f0' }, children: [(0, jsx_runtime_1.jsxs)("div", { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }, children: [(0, jsx_runtime_1.jsx)("h2", { style: { margin: 0, fontSize: '18px', fontWeight: 600 }, children: selectedRelease.title }), (0, jsx_runtime_1.jsx)("span", { style: {
                                    padding: '4px 12px',
                                    borderRadius: '12px',
                                    fontSize: '12px',
                                    fontWeight: 500,
                                    color: selectedRelease.status === 'active' ? '#059669' : selectedRelease.status === 'pending' ? '#d97706' : '#7c3aed',
                                    background: selectedRelease.status === 'active' ? '#d1fae5' : selectedRelease.status === 'pending' ? '#fed7aa' : '#e9d5ff'
                                }, children: statusLabels[selectedRelease.status] })] }), selectedRelease.description && ((0, jsx_runtime_1.jsx)("p", { style: { margin: 0, color: '#64748b', fontSize: '14px' }, children: selectedRelease.description }))] })), (0, jsx_runtime_1.jsxs)(TabContainer, { children: [(0, jsx_runtime_1.jsx)(TabList, { children: tabs.map((tab) => ((0, jsx_runtime_1.jsxs)(TabButton, { active: activeTab === tab.id, onClick: () => handleTabChange(tab.id), "data-testid": `tab-${tab.id}`, children: [tab.icon, " ", tab.label] }, tab.id))) }), (0, jsx_runtime_1.jsx)(TabContent, { children: renderTabContent() })] })] }));
};
exports.default = CentralReleaseDetail;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC9zcmMvcmVuZGVyZXIvZmVhdHVyZXMvRGFzaGJvYXJkL2NvbXBvbmVudHMvQ2VudHJhbFJlbGVhc2VEZXRhaWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGlDQUE0RDtBQUM1RCwwRUFBdUM7QUFDdkMsNkNBQTBDO0FBRTFDLGlFQUF5QztBQUN6QyxrRUFBMEM7QUFDMUMsOERBQXNDO0FBQ3RDLHNFQUE4QztBQWtCOUMsTUFBTSxTQUFTLEdBQUcsMkJBQU0sQ0FBQyxHQUFHLENBQUE7Ozs7Q0FJM0IsQ0FBQztBQUVGLE1BQU0sTUFBTSxHQUFHLDJCQUFNLENBQUMsR0FBRyxDQUFBOztDQUV4QixDQUFDO0FBRUYsTUFBTSxLQUFLLEdBQUcsMkJBQU0sQ0FBQyxFQUFFLENBQUE7Ozs7O0NBS3RCLENBQUM7QUFFRixNQUFNLFFBQVEsR0FBRywyQkFBTSxDQUFDLENBQUMsQ0FBQTs7OztDQUl4QixDQUFDO0FBRUYsTUFBTSxZQUFZLEdBQUcsMkJBQU0sQ0FBQyxHQUFHLENBQUE7O0NBRTlCLENBQUM7QUFFRixNQUFNLE9BQU8sR0FBRywyQkFBTSxDQUFDLEdBQUcsQ0FBQTs7OztDQUl6QixDQUFDO0FBRUYsTUFBTSxTQUFTLEdBQUcsMkJBQU0sQ0FBQyxNQUFNLENBQXFCOzs7Z0JBR3BDLENBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDO1dBQ3pELENBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDOzs7Ozs7O2tCQU92QyxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQzthQUNy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QyxVQUFVLGNBQ1IsZ0JBQWdCLEVBQUUsR0FDUixJQUNBLElBQ0wsQ0FDYixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsa0JBQWUsb0JBQW9CLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC9zcmMvcmVuZGVyZXIvZmVhdHVyZXMvRGFzaGJvYXJkL2NvbXBvbmVudHMvQ2VudHJhbFJlbGVhc2VEZXRhaWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IFJvb3RTdGF0ZSB9IGZyb20gJy4uLy4uLy4uL3N0b3JlJztcbmltcG9ydCBheGlvcyBmcm9tICcuLi8uLi8uLi91dGlscy9heGlvcyc7XG5pbXBvcnQgVGVzdENhc2VMaXN0IGZyb20gJy4vVGVzdENhc2VMaXN0JztcbmltcG9ydCBEZWZlY3RMaXN0IGZyb20gJy4vRGVmZWN0TGlzdCc7XG5pbXBvcnQgUmVwb3J0T3ZlcnZpZXcgZnJvbSAnLi9SZXBvcnRPdmVydmlldyc7XG5cbmludGVyZmFjZSBSZWxlYXNlIHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdwZW5kaW5nJyB8ICdjb21wbGV0ZWQnO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgdmVyc2lvbj86IHN0cmluZztcbiAgY3JlYXRlZEF0Pzogc3RyaW5nO1xuICB1cGRhdGVkQXQ/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBUYWJEYXRhIHtcbiAgdGVzdENhc2VzOiBhbnlbXTtcbiAgZGVmZWN0czogYW55W107XG4gIHJlcG9ydHM6IGFueTtcbn1cblxuY29uc3QgQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgcGFkZGluZzogMjBweDtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdy15OiBhdXRvO1xuYDtcblxuY29uc3QgSGVhZGVyID0gc3R5bGVkLmRpdmBcbiAgbWFyZ2luLWJvdHRvbTogMjRweDtcbmA7XG5cbmNvbnN0IFRpdGxlID0gc3R5bGVkLmgxYFxuICBtYXJnaW46IDAgMCA4cHggMDtcbiAgZm9udC1zaXplOiAyNHB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBjb2xvcjogIzFlMjkzYjtcbmA7XG5cbmNvbnN0IFN1YnRpdGxlID0gc3R5bGVkLnBgXG4gIG1hcmdpbjogMDtcbiAgY29sb3I6ICM2NDc0OGI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbmA7XG5cbmNvbnN0IFRhYkNvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG5gO1xuXG5jb25zdCBUYWJMaXN0ID0gc3R5bGVkLmRpdmBcbiAgZGlzcGxheTogZmxleDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMmU4ZjA7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG5gO1xuXG5jb25zdCBUYWJCdXR0b24gPSBzdHlsZWQuYnV0dG9uPHsgYWN0aXZlOiBib29sZWFuIH0+YFxuICBwYWRkaW5nOiAxMnB4IDI0cHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYmFja2dyb3VuZDogJHsoeyBhY3RpdmUgfSkgPT4gKGFjdGl2ZSA/ICcjM2I4MmY2JyA6ICd0cmFuc3BhcmVudCcpfTtcbiAgY29sb3I6ICR7KHsgYWN0aXZlIH0pID0+IChhY3RpdmUgPyAnd2hpdGUnIDogJyM2NDc0OGInKX07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogNnB4IDZweCAwIDA7XG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICBcbiAgJjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogJHsoeyBhY3RpdmUgfSkgPT4gKGFjdGl2ZSA/ICcjMjU2M2ViJyA6ICcjZjFmNWY5Jyl9O1xuICAgIGNvbG9yOiAkeyh7IGFjdGl2ZSB9KSA9PiAoYWN0aXZlID8gJ3doaXRlJyA6ICcjMWUyOTNiJyl9O1xuICB9XG5gO1xuXG5jb25zdCBUYWJDb250ZW50ID0gc3R5bGVkLmRpdmBcbiAgbWluLWhlaWdodDogNDAwcHg7XG5gO1xuXG5jb25zdCBMb2FkaW5nU3Bpbm5lciA9IHN0eWxlZC5kaXZgXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogNDBweDtcbiAgY29sb3I6ICM2NDc0OGI7XG5gO1xuXG5jb25zdCBFcnJvck1lc3NhZ2UgPSBzdHlsZWQuZGl2YFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDQwcHg7XG4gIGNvbG9yOiAjZWY0NDQ0O1xuYDtcblxuY29uc3QgTm9TZWxlY3Rpb24gPSBzdHlsZWQuZGl2YFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDQwcHg7XG4gIGNvbG9yOiAjNjQ3NDhiO1xuYDtcblxuY29uc3QgdGFicyA9IFtcbiAgeyBpZDogJ3Rlc3RjYXNlcycsIGxhYmVsOiAn7YWM7Iqk7Yq47LyA7J207IqkJywgaWNvbjogJ/Cfp6onIH0sXG4gIHsgaWQ6ICdkZWZlY3RzJywgbGFiZWw6ICfqsrDtlagnLCBpY29uOiAn8J+QmycgfSxcbiAgeyBpZDogJ3JlcG9ydHMnLCBsYWJlbDogJ+uztOqzoOyEnCcsIGljb246ICfwn5OKJyB9XG5dO1xuXG5jb25zdCBDZW50cmFsUmVsZWFzZURldGFpbDogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHNlbGVjdGVkUmVsZWFzZUlkID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmRhc2hib2FyZExheW91dC5zZWxlY3RlZFJlbGVhc2VJZCk7XG4gIGNvbnN0IFtzZWxlY3RlZFJlbGVhc2UsIHNldFNlbGVjdGVkUmVsZWFzZV0gPSB1c2VTdGF0ZTxSZWxlYXNlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZSgndGVzdGNhc2VzJyk7XG4gIGNvbnN0IFt0YWJEYXRhLCBzZXRUYWJEYXRhXSA9IHVzZVN0YXRlPFRhYkRhdGE+KHtcbiAgICB0ZXN0Q2FzZXM6IFtdLFxuICAgIGRlZmVjdHM6IFtdLFxuICAgIHJlcG9ydHM6IHt9XG4gIH0pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8g66a066as7KaIIOyDgeyEuCDsoJXrs7Qg66Gc65OcXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkUmVsZWFzZUlkKSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBcbiAgICAgIGF4aW9zLmdldChgL2FwaS9yZWxlYXNlcy8ke3NlbGVjdGVkUmVsZWFzZUlkfWApXG4gICAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgIHNldFNlbGVjdGVkUmVsZWFzZShyZXMuZGF0YSk7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRSZWxlYXNlKG51bGwpO1xuICAgICAgICAgIHNldEVycm9yKCfrprTrpqzspogg7KCV67O066W8IOu2iOufrOyYrCDsiJgg7JeG7Iq164uI64ukLicpO1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2VsZWN0ZWRSZWxlYXNlKG51bGwpO1xuICAgICAgc2V0VGFiRGF0YSh7IHRlc3RDYXNlczogW10sIGRlZmVjdHM6IFtdLCByZXBvcnRzOiB7fSB9KTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZFJlbGVhc2VJZF0pO1xuXG4gIC8vIO2DreuzhCDrjbDsnbTthLAg66Gc65OcXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkUmVsZWFzZUlkICYmIGFjdGl2ZVRhYikge1xuICAgICAgbG9hZFRhYkRhdGEoc2VsZWN0ZWRSZWxlYXNlSWQsIGFjdGl2ZVRhYik7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRSZWxlYXNlSWQsIGFjdGl2ZVRhYl0pO1xuXG4gIGNvbnN0IGxvYWRUYWJEYXRhID0gYXN5bmMgKHJlbGVhc2VJZDogc3RyaW5nLCB0YWI6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzd2l0Y2ggKHRhYikge1xuICAgICAgICBjYXNlICd0ZXN0Y2FzZXMnOlxuICAgICAgICAgIGNvbnN0IHRlc3RDYXNlc1JlcyA9IGF3YWl0IGF4aW9zLmdldChgL2FwaS9yZWxlYXNlcy8ke3JlbGVhc2VJZH0vdGVzdGNhc2VzYCk7XG4gICAgICAgICAgc2V0VGFiRGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIHRlc3RDYXNlczogdGVzdENhc2VzUmVzLmRhdGEgYXMgYW55W10gfSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkZWZlY3RzJzpcbiAgICAgICAgICBjb25zdCBkZWZlY3RzUmVzID0gYXdhaXQgYXhpb3MuZ2V0KGAvYXBpL3JlbGVhc2VzLyR7cmVsZWFzZUlkfS9kZWZlY3RzYCk7XG4gICAgICAgICAgc2V0VGFiRGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIGRlZmVjdHM6IGRlZmVjdHNSZXMuZGF0YSBhcyBhbnlbXSB9KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JlcG9ydHMnOlxuICAgICAgICAgIGNvbnN0IHJlcG9ydHNSZXMgPSBhd2FpdCBheGlvcy5nZXQoYC9hcGkvcmVsZWFzZXMvJHtyZWxlYXNlSWR9L3JlcG9ydHNgKTtcbiAgICAgICAgICBzZXRUYWJEYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgcmVwb3J0czogcmVwb3J0c1Jlcy5kYXRhIH0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgJHt0YWJ9IOuNsOydtO2EsCDroZzrk5wg7Iuk7YyoOmAsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVGFiQ2hhbmdlID0gKHRhYklkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRBY3RpdmVUYWIodGFiSWQpO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclRhYkNvbnRlbnQgPSAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFJlbGVhc2VJZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE5vU2VsZWN0aW9uPlxuICAgICAgICAgIDxoMz7rprTrpqzspojrpbwg7ISg7YOd7ZW07KO87IS47JqUPC9oMz5cbiAgICAgICAgICA8cD7soozsuKEg7Yyo64SQ7JeQ7IScIOumtOumrOymiOulvCDshKDtg53tlZjrqbQg7IOB7IS4IOygleuztOulvCDtmZXsnbjtlaAg7IiYIOyeiOyKteuLiOuLpC48L3A+XG4gICAgICAgIDwvTm9TZWxlY3Rpb24+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICByZXR1cm4gPExvYWRpbmdTcGlubmVyPuuNsOydtO2EsOulvCDrtojrn6zsmKTripQg7KSRLi4uPC9Mb2FkaW5nU3Bpbm5lcj47XG4gICAgfVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gPEVycm9yTWVzc2FnZT57ZXJyb3J9PC9FcnJvck1lc3NhZ2U+O1xuICAgIH1cblxuICAgIHN3aXRjaCAoYWN0aXZlVGFiKSB7XG4gICAgICBjYXNlICd0ZXN0Y2FzZXMnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUZXN0Q2FzZUxpc3QgXG4gICAgICAgICAgICByZWxlYXNlSWQ9e3NlbGVjdGVkUmVsZWFzZUlkfVxuICAgICAgICAgICAgdGVzdENhc2VzPXt0YWJEYXRhLnRlc3RDYXNlc31cbiAgICAgICAgICAgIG9uRGF0YUNoYW5nZT17KCkgPT4gbG9hZFRhYkRhdGEoc2VsZWN0ZWRSZWxlYXNlSWQsICd0ZXN0Y2FzZXMnKX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSAnZGVmZWN0cyc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPERlZmVjdExpc3QgXG4gICAgICAgICAgICByZWxlYXNlSWQ9e3NlbGVjdGVkUmVsZWFzZUlkfVxuICAgICAgICAgICAgZGVmZWN0cz17dGFiRGF0YS5kZWZlY3RzfVxuICAgICAgICAgICAgb25EYXRhQ2hhbmdlPXsoKSA9PiBsb2FkVGFiRGF0YShzZWxlY3RlZFJlbGVhc2VJZCwgJ2RlZmVjdHMnKX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSAncmVwb3J0cyc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlcG9ydE92ZXJ2aWV3IFxuICAgICAgICAgICAgcmVsZWFzZUlkPXtzZWxlY3RlZFJlbGVhc2VJZH1cbiAgICAgICAgICAgIHJlcG9ydHM9e3RhYkRhdGEucmVwb3J0c31cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDxkaXY+7JWMIOyImCDsl4bripQg7YOt7J6F64uI64ukLjwvZGl2PjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3RhdHVzTGFiZWxzID0ge1xuICAgIGFjdGl2ZTogJ+ynhO2WiSDspJEnLFxuICAgIHBlbmRpbmc6ICfrjIDquLAg7KSRJyxcbiAgICBjb21wbGV0ZWQ6ICfsmYTro4wnXG4gIH07XG5cbiAgaWYgKCFzZWxlY3RlZFJlbGVhc2VJZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Q29udGFpbmVyPlxuICAgICAgICA8SGVhZGVyPlxuICAgICAgICAgIDxUaXRsZT7rprTrpqzspogg7IOB7IS4PC9UaXRsZT5cbiAgICAgICAgICA8U3VidGl0bGU+66a066as7KaI67OEIO2FjOyKpO2KuOy8gOydtOyKpCwg6rKw7ZWoLCDrs7Tqs6DshJzrpbwg7ZmV7J247ZWY7IS47JqUPC9TdWJ0aXRsZT5cbiAgICAgICAgPC9IZWFkZXI+XG4gICAgICAgIDxOb1NlbGVjdGlvbj5cbiAgICAgICAgICA8aDM+66a066as7KaI66W8IOyEoO2Dne2VtOyjvOyEuOyalDwvaDM+XG4gICAgICAgICAgPHA+7KKM7LihIO2MqOuEkOyXkOyEnCDrprTrpqzspojrpbwg7ISg7YOd7ZWY66m0IOyDgeyEuCDsoJXrs7Trpbwg7ZmV7J247ZWgIOyImCDsnojsirXri4jri6QuPC9wPlxuICAgICAgICA8L05vU2VsZWN0aW9uPlxuICAgICAgPC9Db250YWluZXI+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lcj5cbiAgICAgIDxIZWFkZXI+XG4gICAgICAgIDxUaXRsZT7rprTrpqzspogg7IOB7IS4PC9UaXRsZT5cbiAgICAgICAgPFN1YnRpdGxlPuumtOumrOymiOuzhCDthYzsiqTtirjsvIDsnbTsiqQsIOqysO2VqCwg67O06rOg7ISc66W8IO2ZleyduO2VmOyEuOyalDwvU3VidGl0bGU+XG4gICAgICA8L0hlYWRlcj5cblxuICAgICAge3NlbGVjdGVkUmVsZWFzZSAmJiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMjBweCcsIHBhZGRpbmc6ICcxNnB4JywgYmFja2dyb3VuZDogJ3doaXRlJywgYm9yZGVyUmFkaXVzOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkICNlMmU4ZjAnIH19PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbWFyZ2luQm90dG9tOiAnOHB4JyB9fT5cbiAgICAgICAgICAgIDxoMiBzdHlsZT17eyBtYXJnaW46IDAsIGZvbnRTaXplOiAnMThweCcsIGZvbnRXZWlnaHQ6IDYwMCB9fT57c2VsZWN0ZWRSZWxlYXNlLnRpdGxlfTwvaDI+XG4gICAgICAgICAgICA8c3BhbiBzdHlsZT17e1xuICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDEycHgnLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMnB4JyxcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgICAgICAgICAgZm9udFdlaWdodDogNTAwLFxuICAgICAgICAgICAgICBjb2xvcjogc2VsZWN0ZWRSZWxlYXNlLnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAnIzA1OTY2OScgOiBzZWxlY3RlZFJlbGVhc2Uuc3RhdHVzID09PSAncGVuZGluZycgPyAnI2Q5NzcwNicgOiAnIzdjM2FlZCcsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IHNlbGVjdGVkUmVsZWFzZS5zdGF0dXMgPT09ICdhY3RpdmUnID8gJyNkMWZhZTUnIDogc2VsZWN0ZWRSZWxlYXNlLnN0YXR1cyA9PT0gJ3BlbmRpbmcnID8gJyNmZWQ3YWEnIDogJyNlOWQ1ZmYnXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAge3N0YXR1c0xhYmVsc1tzZWxlY3RlZFJlbGVhc2Uuc3RhdHVzXX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7c2VsZWN0ZWRSZWxlYXNlLmRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogMCwgY29sb3I6ICcjNjQ3NDhiJywgZm9udFNpemU6ICcxNHB4JyB9fT57c2VsZWN0ZWRSZWxlYXNlLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxUYWJDb250YWluZXI+XG4gICAgICAgIDxUYWJMaXN0PlxuICAgICAgICAgIHt0YWJzLm1hcCgodGFiKSA9PiAoXG4gICAgICAgICAgICA8VGFiQnV0dG9uXG4gICAgICAgICAgICAgIGtleT17dGFiLmlkfVxuICAgICAgICAgICAgICBhY3RpdmU9e2FjdGl2ZVRhYiA9PT0gdGFiLmlkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UodGFiLmlkKX1cbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2B0YWItJHt0YWIuaWR9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RhYi5pY29ufSB7dGFiLmxhYmVsfVxuICAgICAgICAgICAgPC9UYWJCdXR0b24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvVGFiTGlzdD5cbiAgICAgICAgPFRhYkNvbnRlbnQ+XG4gICAgICAgICAge3JlbmRlclRhYkNvbnRlbnQoKX1cbiAgICAgICAgPC9UYWJDb250ZW50PlxuICAgICAgPC9UYWJDb250YWluZXI+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDZW50cmFsUmVsZWFzZURldGFpbDsgIl0sInZlcnNpb24iOjN9