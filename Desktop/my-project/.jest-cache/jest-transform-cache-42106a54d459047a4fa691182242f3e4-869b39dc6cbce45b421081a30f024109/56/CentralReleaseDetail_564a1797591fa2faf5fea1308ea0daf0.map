{"file":"/Users/3i-a1-2021-017/Desktop/my-project/src/renderer/features/Dashboard/components/CentralReleaseDetail.tsx","mappings":"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","names":[],"sources":["/Users/3i-a1-2021-017/Desktop/my-project/src/renderer/features/Dashboard/components/CentralReleaseDetail.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../store';\nimport axios from '../../../utils/axios';\nimport TestCaseList from './TestCaseList';\nimport DefectList from './DefectList';\nimport ReportOverview from './ReportOverview';\n\ninterface Release {\n  id: string;\n  title: string;\n  status: 'active' | 'pending' | 'completed';\n  description?: string;\n  version?: string;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\ninterface TabData {\n  testCases: any[];\n  defects: any[];\n  reports: any;\n}\n\nconst Container = styled.div`\n  padding: 20px;\n  height: 100%;\n  overflow-y: auto;\n`;\n\nconst Header = styled.div`\n  margin-bottom: 24px;\n`;\n\nconst Title = styled.h1`\n  margin: 0 0 8px 0;\n  font-size: 24px;\n  font-weight: 600;\n  color: #1e293b;\n`;\n\nconst Subtitle = styled.p`\n  margin: 0;\n  color: #64748b;\n  font-size: 14px;\n`;\n\nconst TabContainer = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst TabList = styled.div`\n  display: flex;\n  border-bottom: 1px solid #e2e8f0;\n  margin-bottom: 20px;\n`;\n\nconst TabButton = styled.button<{ active: boolean }>`\n  padding: 12px 24px;\n  border: none;\n  background: ${({ active }) => (active ? '#3b82f6' : 'transparent')};\n  color: ${({ active }) => (active ? 'white' : '#64748b')};\n  font-weight: 500;\n  cursor: pointer;\n  border-radius: 6px 6px 0 0;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: ${({ active }) => (active ? '#2563eb' : '#f1f5f9')};\n    color: ${({ active }) => (active ? 'white' : '#1e293b')};\n  }\n`;\n\nconst TabContent = styled.div`\n  min-height: 400px;\n`;\n\nconst LoadingSpinner = styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #64748b;\n`;\n\nconst ErrorMessage = styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #ef4444;\n`;\n\nconst NoSelection = styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #64748b;\n`;\n\nconst tabs = [\n  { id: 'testcases', label: '테스트케이스', icon: '🧪' },\n  { id: 'defects', label: '결함', icon: '🐛' },\n  { id: 'reports', label: '보고서', icon: '📊' }\n];\n\nconst CentralReleaseDetail: React.FC = () => {\n  const selectedReleaseId = useSelector((state: RootState) => state.dashboardLayout.selectedReleaseId);\n  const [selectedRelease, setSelectedRelease] = useState<Release | null>(null);\n  const [activeTab, setActiveTab] = useState('testcases');\n  const [tabData, setTabData] = useState<TabData>({\n    testCases: [],\n    defects: [],\n    reports: {}\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // 릴리즈 상세 정보 로드\n  useEffect(() => {\n    if (selectedReleaseId) {\n      setLoading(true);\n      setError(null);\n      \n      axios.get(`/api/releases/${selectedReleaseId}`)\n        .then((res: any) => {\n          setSelectedRelease(res.data);\n          setLoading(false);\n        })\n        .catch(() => {\n          setSelectedRelease(null);\n          setError('릴리즈 정보를 불러올 수 없습니다.');\n          setLoading(false);\n        });\n    } else {\n      setSelectedRelease(null);\n      setTabData({ testCases: [], defects: [], reports: {} });\n    }\n  }, [selectedReleaseId]);\n\n  // 탭별 데이터 로드\n  useEffect(() => {\n    if (selectedReleaseId && activeTab) {\n      loadTabData(selectedReleaseId, activeTab);\n    }\n  }, [selectedReleaseId, activeTab]);\n\n  const loadTabData = async (releaseId: string, tab: string) => {\n    try {\n      switch (tab) {\n        case 'testcases':\n          const testCasesRes = await axios.get(`/api/releases/${releaseId}/testcases`);\n          setTabData(prev => ({ ...prev, testCases: testCasesRes.data as any[] }));\n          break;\n        case 'defects':\n          const defectsRes = await axios.get(`/api/releases/${releaseId}/defects`);\n          setTabData(prev => ({ ...prev, defects: defectsRes.data as any[] }));\n          break;\n        case 'reports':\n          const reportsRes = await axios.get(`/api/releases/${releaseId}/reports`);\n          setTabData(prev => ({ ...prev, reports: reportsRes.data }));\n          break;\n      }\n    } catch (error) {\n      console.error(`${tab} 데이터 로드 실패:`, error);\n    }\n  };\n\n  const handleTabChange = (tabId: string) => {\n    setActiveTab(tabId);\n  };\n\n  const renderTabContent = () => {\n    if (!selectedReleaseId) {\n      return (\n        <NoSelection>\n          <h3>릴리즈를 선택해주세요</h3>\n          <p>좌측 패널에서 릴리즈를 선택하면 상세 정보를 확인할 수 있습니다.</p>\n        </NoSelection>\n      );\n    }\n\n    if (loading) {\n      return <LoadingSpinner>데이터를 불러오는 중...</LoadingSpinner>;\n    }\n\n    if (error) {\n      return <ErrorMessage>{error}</ErrorMessage>;\n    }\n\n    switch (activeTab) {\n      case 'testcases':\n        return (\n          <TestCaseList \n            releaseId={selectedReleaseId}\n            testCases={tabData.testCases}\n            onDataChange={() => loadTabData(selectedReleaseId, 'testcases')}\n          />\n        );\n      case 'defects':\n        return (\n          <DefectList \n            releaseId={selectedReleaseId}\n            defects={tabData.defects}\n            onDataChange={() => loadTabData(selectedReleaseId, 'defects')}\n          />\n        );\n      case 'reports':\n        return (\n          <ReportOverview \n            releaseId={selectedReleaseId}\n            reports={tabData.reports}\n          />\n        );\n      default:\n        return <div>알 수 없는 탭입니다.</div>;\n    }\n  };\n\n  const statusLabels = {\n    active: '진행 중',\n    pending: '대기 중',\n    completed: '완료'\n  };\n\n  if (!selectedReleaseId) {\n    return (\n      <Container>\n        <Header>\n          <Title>릴리즈 상세</Title>\n          <Subtitle>릴리즈별 테스트케이스, 결함, 보고서를 확인하세요</Subtitle>\n        </Header>\n        <NoSelection>\n          <h3>릴리즈를 선택해주세요</h3>\n          <p>좌측 패널에서 릴리즈를 선택하면 상세 정보를 확인할 수 있습니다.</p>\n        </NoSelection>\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <Header>\n        <Title>릴리즈 상세</Title>\n        <Subtitle>릴리즈별 테스트케이스, 결함, 보고서를 확인하세요</Subtitle>\n      </Header>\n\n      {selectedRelease && (\n        <div style={{ marginBottom: '20px', padding: '16px', background: 'white', borderRadius: '8px', border: '1px solid #e2e8f0' }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>\n            <h2 style={{ margin: 0, fontSize: '18px', fontWeight: 600 }}>{selectedRelease.title}</h2>\n            <span style={{\n              padding: '4px 12px',\n              borderRadius: '12px',\n              fontSize: '12px',\n              fontWeight: 500,\n              color: selectedRelease.status === 'active' ? '#059669' : selectedRelease.status === 'pending' ? '#d97706' : '#7c3aed',\n              background: selectedRelease.status === 'active' ? '#d1fae5' : selectedRelease.status === 'pending' ? '#fed7aa' : '#e9d5ff'\n            }}>\n              {statusLabels[selectedRelease.status]}\n            </span>\n          </div>\n          {selectedRelease.description && (\n            <p style={{ margin: 0, color: '#64748b', fontSize: '14px' }}>{selectedRelease.description}</p>\n          )}\n        </div>\n      )}\n\n      <TabContainer>\n        <TabList>\n          {tabs.map((tab) => (\n            <TabButton\n              key={tab.id}\n              active={activeTab === tab.id}\n              onClick={() => handleTabChange(tab.id)}\n              data-testid={`tab-${tab.id}`}\n            >\n              {tab.icon} {tab.label}\n            </TabButton>\n          ))}\n        </TabList>\n        <TabContent>\n          {renderTabContent()}\n        </TabContent>\n      </TabContainer>\n    </Container>\n  );\n};\n\nexport default CentralReleaseDetail; "],"version":3}