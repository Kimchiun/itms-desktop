897d7fdf4818747d15f9b2a0adea741d
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// axios 모킹
jest.mock('../src/renderer/utils/axios', () => ({
    get: jest.fn()
}));
const react_1 = require("@testing-library/react");
const react_redux_1 = require("react-redux");
const styled_components_1 = require("styled-components");
const toolkit_1 = require("@reduxjs/toolkit");
const CentralReleaseDetail_1 = __importDefault(require("../src/renderer/features/Dashboard/components/CentralReleaseDetail"));
const dashboardLayoutSlice_1 = __importDefault(require("../src/renderer/store/dashboardLayoutSlice"));
const theme_1 = require("../src/renderer/shared/theme");
require("@testing-library/jest-dom");
const mockAxios = require('../src/renderer/utils/axios');
// 테스트용 스토어 설정
const createTestStore = (initialState = {}) => {
    return (0, toolkit_1.configureStore)({
        reducer: {
            dashboardLayout: dashboardLayoutSlice_1.default
        },
        preloadedState: {
            dashboardLayout: {
                leftPanel: { isCollapsed: false, width: 280 },
                rightPanel: { isCollapsed: false, width: 320 },
                centerPanel: { isFullWidth: false },
                activeTab: 'overview',
                selectedReleaseId: null,
                ...initialState
            }
        }
    });
};
// 컴포넌트 렌더링 헬퍼
const renderCentralReleaseDetail = (initialState = {}) => {
    const store = createTestStore(initialState);
    const result = (0, react_1.render)((0, jsx_runtime_1.jsx)(react_redux_1.Provider, { store: store, children: (0, jsx_runtime_1.jsx)(styled_components_1.ThemeProvider, { theme: theme_1.theme, children: (0, jsx_runtime_1.jsx)(CentralReleaseDetail_1.default, {}) }) }));
    return { ...result, store };
};
const mockRelease = {
    id: '1',
    title: 'v2.1.0 - 기능 개선',
    status: 'active',
    description: '새로운 기능 추가 및 성능 개선',
    version: '2.1.0',
    createdAt: '2024-01-15T00:00:00Z',
    updatedAt: '2024-01-20T00:00:00Z'
};
const mockTestCases = [
    { id: 1, title: '로그인 테스트', priority: 'High', status: 'Active', createdBy: 'tester1', createdAt: '2024-01-15T00:00:00Z' },
    { id: 2, title: '회원가입 테스트', priority: 'Medium', status: 'Active', createdBy: 'tester2', createdAt: '2024-01-16T00:00:00Z' }
];
const mockDefects = [
    { id: 1, title: '로그인 버튼 클릭 시 오류', severity: 'High', status: 'Open', createdBy: 'tester1', createdAt: '2024-01-15T00:00:00Z' },
    { id: 2, title: '회원가입 폼 검증 오류', severity: 'Medium', status: 'In Progress', createdBy: 'tester2', createdAt: '2024-01-16T00:00:00Z' }
];
const mockReports = {
    progress: { total: 10, completed: 6, inProgress: 3, notStarted: 1 },
    defects: { total: 5, open: 2, inProgress: 2, resolved: 1, closed: 0 },
    trends: { testCasesCompleted: [1, 2, 3], defectsFound: [1, 0, 2], dates: ['2024-01-15', '2024-01-16', '2024-01-17'] }
};
describe('CentralReleaseDetail - 릴리즈 상세 정보 및 탭 기능', () => {
    beforeEach(() => {
        mockAxios.get.mockClear();
    });
    describe('기본 렌더링 테스트', () => {
        it('릴리즈가 선택되지 않았을 때 안내 메시지를 표시해야 함', () => {
            renderCentralReleaseDetail();
            expect(react_1.screen.getByText('릴리즈를 선택해주세요')).toBeInTheDocument();
            expect(react_1.screen.getByText('좌측 패널에서 릴리즈를 선택하면 상세 정보를 확인할 수 있습니다.')).toBeInTheDocument();
        });
        it('릴리즈가 선택되었을 때 상세 정보를 표시해야 함', async () => {
            mockAxios.get.mockResolvedValue({ data: mockRelease });
            renderCentralReleaseDetail({ selectedReleaseId: '1' });
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
                expect(react_1.screen.getByText('진행 중')).toBeInTheDocument();
                expect(react_1.screen.getByText('새로운 기능 추가 및 성능 개선')).toBeInTheDocument();
            });
        });
        it('API 호출이 정상적으로 이루어져야 함', async () => {
            mockAxios.get.mockResolvedValue({ data: mockRelease });
            renderCentralReleaseDetail({ selectedReleaseId: '1' });
            expect(mockAxios.get).toHaveBeenCalledWith('/api/releases/1');
        });
    });
    describe('탭 기능 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockRelease });
            renderCentralReleaseDetail({ selectedReleaseId: '1' });
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('기본적으로 테스트케이스 탭이 활성화되어야 함', () => {
            expect(react_1.screen.getByTestId('tab-testcases')).toHaveTextContent('🧪 테스트케이스');
        });
        it('탭 클릭 시 해당 탭이 활성화되어야 함', () => {
            const defectsTab = react_1.screen.getByTestId('tab-defects');
            react_1.fireEvent.click(defectsTab);
            expect(defectsTab).toHaveTextContent('🐛 결함');
        });
        it('모든 탭이 표시되어야 함', () => {
            expect(react_1.screen.getByTestId('tab-testcases')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('tab-defects')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('tab-reports')).toBeInTheDocument();
        });
    });
    describe('테스트케이스 탭 테스트', () => {
        beforeEach(async () => {
            mockAxios.get
                .mockResolvedValueOnce({ data: mockRelease })
                .mockResolvedValueOnce({ data: mockTestCases });
            renderCentralReleaseDetail({ selectedReleaseId: '1' });
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('테스트케이스 목록이 표시되어야 함', async () => {
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('로그인 테스트')).toBeInTheDocument();
                expect(react_1.screen.getByText('회원가입 테스트')).toBeInTheDocument();
            });
        });
        it('새 테스트케이스 생성 버튼이 표시되어야 함', async () => {
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByTestId('create-testcase-btn')).toBeInTheDocument();
            });
        });
        it('검색 기능이 동작해야 함', async () => {
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByTestId('testcase-search-input')).toBeInTheDocument();
            });
            const searchInput = react_1.screen.getByTestId('testcase-search-input');
            react_1.fireEvent.change(searchInput, { target: { value: '로그인' } });
            expect(react_1.screen.getByText('로그인 테스트')).toBeInTheDocument();
            expect(react_1.screen.queryByText('회원가입 테스트')).not.toBeInTheDocument();
        });
    });
    describe('결함 탭 테스트', () => {
        beforeEach(async () => {
            mockAxios.get
                .mockResolvedValueOnce({ data: mockRelease })
                .mockResolvedValueOnce({ data: mockDefects });
            renderCentralReleaseDetail({ selectedReleaseId: '1' });
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
            const defectsTab = react_1.screen.getByTestId('tab-defects');
            react_1.fireEvent.click(defectsTab);
        });
        it('결함 목록이 표시되어야 함', async () => {
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('로그인 버튼 클릭 시 오류')).toBeInTheDocument();
                expect(react_1.screen.getByText('회원가입 폼 검증 오류')).toBeInTheDocument();
            });
        });
        it('새 결함 생성 버튼이 표시되어야 함', async () => {
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByTestId('create-defect-btn')).toBeInTheDocument();
            });
        });
        it('결함 검색 기능이 동작해야 함', async () => {
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByTestId('defect-search-input')).toBeInTheDocument();
            });
            const searchInput = react_1.screen.getByTestId('defect-search-input');
            react_1.fireEvent.change(searchInput, { target: { value: '로그인' } });
            expect(react_1.screen.getByText('로그인 버튼 클릭 시 오류')).toBeInTheDocument();
            expect(react_1.screen.queryByText('회원가입 폼 검증 오류')).not.toBeInTheDocument();
        });
    });
    describe('보고서 탭 테스트', () => {
        beforeEach(async () => {
            mockAxios.get
                .mockResolvedValueOnce({ data: mockRelease })
                .mockResolvedValueOnce({ data: mockReports });
            renderCentralReleaseDetail({ selectedReleaseId: '1' });
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
            const reportsTab = react_1.screen.getByTestId('tab-reports');
            react_1.fireEvent.click(reportsTab);
        });
        it('테스트 진행률이 표시되어야 함', async () => {
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('테스트 진행률')).toBeInTheDocument();
                expect(react_1.screen.getByText('10')).toBeInTheDocument(); // 전체 테스트케이스
                expect(react_1.screen.getByText('6')).toBeInTheDocument(); // 완료된 테스트케이스
            });
        });
        it('결함 통계가 표시되어야 함', async () => {
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('결함 통계')).toBeInTheDocument();
                expect(react_1.screen.getByText('5')).toBeInTheDocument(); // 전체 결함
                expect(react_1.screen.getByText('2')).toBeInTheDocument(); // 열린 결함
            });
        });
        it('품질 지표가 표시되어야 함', async () => {
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('품질 지표')).toBeInTheDocument();
                expect(react_1.screen.getByText('60%')).toBeInTheDocument(); // 테스트 완료율
            });
        });
    });
    describe('에러 처리 테스트', () => {
        it('API 오류 시 에러 메시지를 표시해야 함', async () => {
            mockAxios.get.mockRejectedValue(new Error('API Error'));
            renderCentralReleaseDetail({ selectedReleaseId: '1' });
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('릴리즈 정보를 불러올 수 없습니다.')).toBeInTheDocument();
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC90ZXN0cy9jZW50cmFsLXJlbGVhc2UtZGV0YWlsLnRlc3QudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQVVBLFdBQVc7QUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLDZCQUE2QixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDOUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7Q0FDZixDQUFDLENBQUMsQ0FBQztBQVpKLGtEQUE0RTtBQUM1RSw2Q0FBdUM7QUFDdkMseURBQWtEO0FBQ2xELDhDQUFrRDtBQUNsRCw4SEFBc0c7QUFDdEcsc0dBQWdGO0FBQ2hGLHdEQUFxRDtBQUNyRCxxQ0FBbUM7QUFPbkMsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLDZCQUE2QixDQUFDLENBQUM7QUFFekQsY0FBYztBQUNkLE1BQU0sZUFBZSxHQUFHLENBQUMsWUFBWSxHQUFHLEVBQUUsRUFBRSxFQUFFO0lBQzVDLE9BQU8sSUFBQSx3QkFBYyxFQUFDO1FBQ3BCLE9BQU8sRUFBRTtZQUNQLGVBQWUsRUFBRSw4QkFBc0I7U0FDeEM7UUFDRCxjQUFjLEVBQUU7WUFDZCxlQUFlLEVBQUU7Z0JBQ2YsU0FBUyxFQUFFLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFO2dCQUM3QyxVQUFVLEVBQUUsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUU7Z0JBQzlDLFdBQVcsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUU7Z0JBQ25DLFNBQVMsRUFBRSxVQUFVO2dCQUNyQixpQkFBaUIsRUFBRSxJQUFJO2dCQUN2QixHQUFHLFlBQVk7YUFDaEI7U0FDRjtLQUNGLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGLGNBQWM7QUFDZCxNQUFNLDBCQUEwQixHQUFHLENBQUMsWUFBWSxHQUFHLEVBQUUsRUFBRSxFQUFFO0lBQ3ZELE1BQU0sS0FBSyxHQUFHLGVBQWUs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QUFDO1lBRXhELDBCQUEwQixDQUFDLEVBQUUsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztZQUV2RCxNQUFNLElBQUEsZUFBTyxFQUFDLEdBQUcsRUFBRTtnQkFDakIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDdEUsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC90ZXN0cy9jZW50cmFsLXJlbGVhc2UtZGV0YWlsLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBjb25maWd1cmVTdG9yZSB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IENlbnRyYWxSZWxlYXNlRGV0YWlsIGZyb20gJy4uL3NyYy9yZW5kZXJlci9mZWF0dXJlcy9EYXNoYm9hcmQvY29tcG9uZW50cy9DZW50cmFsUmVsZWFzZURldGFpbCc7XG5pbXBvcnQgZGFzaGJvYXJkTGF5b3V0UmVkdWNlciBmcm9tICcuLi9zcmMvcmVuZGVyZXIvc3RvcmUvZGFzaGJvYXJkTGF5b3V0U2xpY2UnO1xuaW1wb3J0IHsgdGhlbWUgfSBmcm9tICcuLi9zcmMvcmVuZGVyZXIvc2hhcmVkL3RoZW1lJztcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XG5cbi8vIGF4aW9zIOuqqO2CuVxuamVzdC5tb2NrKCcuLi9zcmMvcmVuZGVyZXIvdXRpbHMvYXhpb3MnLCAoKSA9PiAoe1xuICBnZXQ6IGplc3QuZm4oKVxufSkpO1xuXG5jb25zdCBtb2NrQXhpb3MgPSByZXF1aXJlKCcuLi9zcmMvcmVuZGVyZXIvdXRpbHMvYXhpb3MnKTtcblxuLy8g7YWM7Iqk7Yq47JqpIOyKpO2GoOyWtCDshKTsoJVcbmNvbnN0IGNyZWF0ZVRlc3RTdG9yZSA9IChpbml0aWFsU3RhdGUgPSB7fSkgPT4ge1xuICByZXR1cm4gY29uZmlndXJlU3RvcmUoe1xuICAgIHJlZHVjZXI6IHtcbiAgICAgIGRhc2hib2FyZExheW91dDogZGFzaGJvYXJkTGF5b3V0UmVkdWNlclxuICAgIH0sXG4gICAgcHJlbG9hZGVkU3RhdGU6IHtcbiAgICAgIGRhc2hib2FyZExheW91dDoge1xuICAgICAgICBsZWZ0UGFuZWw6IHsgaXNDb2xsYXBzZWQ6IGZhbHNlLCB3aWR0aDogMjgwIH0sXG4gICAgICAgIHJpZ2h0UGFuZWw6IHsgaXNDb2xsYXBzZWQ6IGZhbHNlLCB3aWR0aDogMzIwIH0sXG4gICAgICAgIGNlbnRlclBhbmVsOiB7IGlzRnVsbFdpZHRoOiBmYWxzZSB9LFxuICAgICAgICBhY3RpdmVUYWI6ICdvdmVydmlldycsXG4gICAgICAgIHNlbGVjdGVkUmVsZWFzZUlkOiBudWxsLFxuICAgICAgICAuLi5pbml0aWFsU3RhdGVcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuLy8g7Lu07Y+s64SM7Yq4IOugjOuNlOungSDtl6ztjbxcbmNvbnN0IHJlbmRlckNlbnRyYWxSZWxlYXNlRGV0YWlsID0gKGluaXRpYWxTdGF0ZSA9IHt9KSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gY3JlYXRlVGVzdFN0b3JlKGluaXRpYWxTdGF0ZSk7XG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlcihcbiAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICAgIDxUaGVtZVByb3ZpZGVyIHRoZW1lPXt0aGVtZX0+XG4gICAgICAgIDxDZW50cmFsUmVsZWFzZURldGFpbCAvPlxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgIDwvUHJvdmlkZXI+XG4gICk7XG4gIHJldHVybiB7IC4uLnJlc3VsdCwgc3RvcmUgfTtcbn07XG5cbmNvbnN0IG1vY2tSZWxlYXNlID0ge1xuICBpZDogJzEnLFxuICB0aXRsZTogJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnLFxuICBzdGF0dXM6ICdhY3RpdmUnLFxuICBkZXNjcmlwdGlvbjogJ+yDiOuhnOyatCDquLDriqUg7LaU6rCAIOuwjyDshLHriqUg6rCc7ISgJyxcbiAgdmVyc2lvbjogJzIuMS4wJyxcbiAgY3JlYXRlZEF0OiAnMjAyNC0wMS0xNVQwMDowMDowMFonLFxuICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTIwVDAwOjAwOjAwWidcbn07XG5cbmNvbnN0IG1vY2tUZXN0Q2FzZXMgPSBbXG4gIHsgaWQ6IDEsIHRpdGxlOiAn66Gc6re47J24IO2FjOyKpO2KuCcsIHByaW9yaXR5OiAnSGlnaCcsIHN0YXR1czogJ0FjdGl2ZScsIGNyZWF0ZWRCeTogJ3Rlc3RlcjEnLCBjcmVhdGVkQXQ6ICcyMDI0LTAxLTE1VDAwOjAwOjAwWicgfSxcbiAgeyBpZDogMiwgdGl0bGU6ICftmozsm5DqsIDsnoUg7YWM7Iqk7Yq4JywgcHJpb3JpdHk6ICdNZWRpdW0nLCBzdGF0dXM6ICdBY3RpdmUnLCBjcmVhdGVkQnk6ICd0ZXN0ZXIyJywgY3JlYXRlZEF0OiAnMjAyNC0wMS0xNlQwMDowMDowMFonIH1cbl07XG5cbmNvbnN0IG1vY2tEZWZlY3RzID0gW1xuICB7IGlkOiAxLCB0aXRsZTogJ+uhnOq3uOyduCDrsoTtirwg7YG066atIOyLnCDsmKTrpZgnLCBzZXZlcml0eTogJ0hpZ2gnLCBzdGF0dXM6ICdPcGVuJywgY3JlYXRlZEJ5OiAndGVzdGVyMScsIGNyZWF0ZWRBdDogJzIwMjQtMDEtMTVUMDA6MDA6MDBaJyB9LFxuICB7IGlkOiAyLCB0aXRsZTogJ+2ajOybkOqwgOyehSDtj7wg6rKA7KadIOyYpOulmCcsIHNldmVyaXR5OiAnTWVkaXVtJywgc3RhdHVzOiAnSW4gUHJvZ3Jlc3MnLCBjcmVhdGVkQnk6ICd0ZXN0ZXIyJywgY3JlYXRlZEF0OiAnMjAyNC0wMS0xNlQwMDowMDowMFonIH1cbl07XG5cbmNvbnN0IG1vY2tSZXBvcnRzID0ge1xuICBwcm9ncmVzczogeyB0b3RhbDogMTAsIGNvbXBsZXRlZDogNiwgaW5Qcm9ncmVzczogMywgbm90U3RhcnRlZDogMSB9LFxuICBkZWZlY3RzOiB7IHRvdGFsOiA1LCBvcGVuOiAyLCBpblByb2dyZXNzOiAyLCByZXNvbHZlZDogMSwgY2xvc2VkOiAwIH0sXG4gIHRyZW5kczogeyB0ZXN0Q2FzZXNDb21wbGV0ZWQ6IFsxLCAyLCAzXSwgZGVmZWN0c0ZvdW5kOiBbMSwgMCwgMl0sIGRhdGVzOiBbJzIwMjQtMDEtMTUnLCAnMjAyNC0wMS0xNicsICcyMDI0LTAxLTE3J10gfVxufTtcblxuZGVzY3JpYmUoJ0NlbnRyYWxSZWxlYXNlRGV0YWlsIC0g66a066as7KaIIOyDgeyEuCDsoJXrs7Qg67CPIO2DrSDquLDriqUnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tBeGlvcy5nZXQubW9ja0NsZWFyKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfquLDrs7gg66CM642U66eBIO2FjOyKpO2KuCcsICgpID0+IHtcbiAgICBpdCgn66a066as7KaI6rCAIOyEoO2DneuQmOyngCDslYrslZjsnYQg65WMIOyViOuCtCDrqZTsi5zsp4Drpbwg7ZGc7Iuc7ZW07JW8IO2VqCcsICgpID0+IHtcbiAgICAgIHJlbmRlckNlbnRyYWxSZWxlYXNlRGV0YWlsKCk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfrprTrpqzspojrpbwg7ISg7YOd7ZW07KO87IS47JqUJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn7KKM7LihIO2MqOuEkOyXkOyEnCDrprTrpqzspojrpbwg7ISg7YOd7ZWY66m0IOyDgeyEuCDsoJXrs7Trpbwg7ZmV7J247ZWgIOyImCDsnojsirXri4jri6QuJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgn66a066as7KaI6rCAIOyEoO2DneuQmOyXiOydhCDrlYwg7IOB7IS4IOygleuztOulvCDtkZzsi5ztlbTslbwg7ZWoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0F4aW9zLmdldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG1vY2tSZWxlYXNlIH0pO1xuXG4gICAgICByZW5kZXJDZW50cmFsUmVsZWFzZURldGFpbCh7IHNlbGVjdGVkUmVsZWFzZUlkOiAnMScgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn7KeE7ZaJIOykkScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn7IOI66Gc7Jq0IOq4sOuKpSDstpTqsIAg67CPIOyEseuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ0FQSSDtmLjstpzsnbQg7KCV7IOB7KCB7Jy866GcIOydtOujqOyWtOyguOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja1JlbGVhc2UgfSk7XG5cbiAgICAgIHJlbmRlckNlbnRyYWxSZWxlYXNlRGV0YWlsKHsgc2VsZWN0ZWRSZWxlYXNlSWQ6ICcxJyB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tBeGlvcy5nZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL3JlbGVhc2VzLzEnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+2DrSDquLDriqUg7YWM7Iqk7Yq4JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0F4aW9zLmdldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG1vY2tSZWxlYXNlIH0pO1xuICAgICAgcmVuZGVyQ2VudHJhbFJlbGVhc2VEZXRhaWwoeyBzZWxlY3RlZFJlbGVhc2VJZDogJzEnIH0pO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4xLjAgLSDquLDriqUg6rCc7ISgJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCfquLDrs7jsoIHsnLzroZwg7YWM7Iqk7Yq47LyA7J207IqkIO2DreydtCDtmZzshLHtmZTrkJjslrTslbwg7ZWoJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgndGFiLXRlc3RjYXNlcycpKS50b0hhdmVUZXh0Q29udGVudCgn8J+nqiDthYzsiqTtirjsvIDsnbTsiqQnKTtcbiAgICB9KTtcblxuICAgIGl0KCftg60g7YG066atIOyLnCDtlbTri7kg7YOt7J20IO2ZnOyEse2ZlOuQmOyWtOyVvCDtlagnLCAoKSA9PiB7XG4gICAgICBjb25zdCBkZWZlY3RzVGFiID0gc2NyZWVuLmdldEJ5VGVzdElkKCd0YWItZGVmZWN0cycpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGRlZmVjdHNUYWIpO1xuXG4gICAgICBleHBlY3QoZGVmZWN0c1RhYikudG9IYXZlVGV4dENvbnRlbnQoJ/CfkJsg6rKw7ZWoJyk7XG4gICAgfSk7XG5cbiAgICBpdCgn66qo65OgIO2DreydtCDtkZzsi5zrkJjslrTslbwg7ZWoJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgndGFiLXRlc3RjYXNlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgndGFiLWRlZmVjdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3RhYi1yZXBvcnRzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfthYzsiqTtirjsvIDsnbTsiqQg7YOtIO2FjOyKpO2KuCcsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBeGlvcy5nZXRcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IG1vY2tSZWxlYXNlIH0pXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBkYXRhOiBtb2NrVGVzdENhc2VzIH0pO1xuXG4gICAgICByZW5kZXJDZW50cmFsUmVsZWFzZURldGFpbCh7IHNlbGVjdGVkUmVsZWFzZUlkOiAnMScgfSk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+2FjOyKpO2KuOy8gOydtOyKpCDrqqnroZ3snbQg7ZGc7Iuc65CY7Ja07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn66Gc6re47J24IO2FjOyKpO2KuCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn7ZqM7JuQ6rCA7J6FIO2FjOyKpO2KuCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn7IOIIO2FjOyKpO2KuOy8gOydtOyKpCDsg53shLEg67KE7Yq87J20IO2RnOyLnOuQmOyWtOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY3JlYXRlLXRlc3RjYXNlLWJ0bicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn6rKA7IOJIOq4sOuKpeydtCDrj5nsnpHtlbTslbwg7ZWoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3Rlc3RjYXNlLXNlYXJjaC1pbnB1dCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCd0ZXN0Y2FzZS1zZWFyY2gtaW5wdXQnKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAn66Gc6re47J24JyB9IH0pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn66Gc6re47J24IO2FjOyKpO2KuCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgn7ZqM7JuQ6rCA7J6FIO2FjOyKpO2KuCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+qysO2VqCDtg60g7YWM7Iqk7Yq4JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0F4aW9zLmdldFxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZGF0YTogbW9ja1JlbGVhc2UgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IG1vY2tEZWZlY3RzIH0pO1xuXG4gICAgICByZW5kZXJDZW50cmFsUmVsZWFzZURldGFpbCh7IHNlbGVjdGVkUmVsZWFzZUlkOiAnMScgfSk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkZWZlY3RzVGFiID0gc2NyZWVuLmdldEJ5VGVzdElkKCd0YWItZGVmZWN0cycpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGRlZmVjdHNUYWIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+qysO2VqCDrqqnroZ3snbQg7ZGc7Iuc65CY7Ja07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn66Gc6re47J24IOuyhO2KvCDtgbTrpq0g7IucIOyYpOulmCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn7ZqM7JuQ6rCA7J6FIO2PvCDqsoDspp0g7Jik66WYJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCfsg4gg6rKw7ZWoIOyDneyEsSDrsoTtirzsnbQg7ZGc7Iuc65CY7Ja07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjcmVhdGUtZGVmZWN0LWJ0bicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn6rKw7ZWoIOqygOyDiSDquLDriqXsnbQg64+Z7J6R7ZW07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdkZWZlY3Qtc2VhcmNoLWlucHV0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2RlZmVjdC1zZWFyY2gtaW5wdXQnKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAn66Gc6re47J24JyB9IH0pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn66Gc6re47J24IOuyhO2KvCDtgbTrpq0g7IucIOyYpOulmCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgn7ZqM7JuQ6rCA7J6FIO2PvCDqsoDspp0g7Jik66WYJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn67O06rOg7IScIO2DrSDthYzsiqTtirgnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3MuZ2V0XG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBkYXRhOiBtb2NrUmVsZWFzZSB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZGF0YTogbW9ja1JlcG9ydHMgfSk7XG5cbiAgICAgIHJlbmRlckNlbnRyYWxSZWxlYXNlRGV0YWlsKHsgc2VsZWN0ZWRSZWxlYXNlSWQ6ICcxJyB9KTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydHNUYWIgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3RhYi1yZXBvcnRzJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socmVwb3J0c1RhYik7XG4gICAgfSk7XG5cbiAgICBpdCgn7YWM7Iqk7Yq4IOynhO2WieuloOydtCDtkZzsi5zrkJjslrTslbwg7ZWoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfthYzsiqTtirgg7KeE7ZaJ66WgJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxMCcpKS50b0JlSW5UaGVEb2N1bWVudCgpOyAvLyDsoITssrQg7YWM7Iqk7Yq47LyA7J207IqkXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCc2JykpLnRvQmVJblRoZURvY3VtZW50KCk7IC8vIOyZhOujjOuQnCDthYzsiqTtirjsvIDsnbTsiqRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+qysO2VqCDthrXqs4TqsIAg7ZGc7Iuc65CY7Ja07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn6rKw7ZWoIO2GteqzhCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnNScpKS50b0JlSW5UaGVEb2N1bWVudCgpOyAvLyDsoITssrQg6rKw7ZWoXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcyJykpLnRvQmVJblRoZURvY3VtZW50KCk7IC8vIOyXtOumsCDqsrDtlahcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+2SiOyniCDsp4DtkZzqsIAg7ZGc7Iuc65CY7Ja07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn7ZKI7KeIIOyngO2RnCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnNjAlJykpLnRvQmVJblRoZURvY3VtZW50KCk7IC8vIO2FjOyKpO2KuCDsmYTro4zsnKhcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn7JeQ65+sIOyymOumrCDthYzsiqTtirgnLCAoKSA9PiB7XG4gICAgaXQoJ0FQSSDsmKTrpZgg7IucIOyXkOufrCDrqZTsi5zsp4Drpbwg7ZGc7Iuc7ZW07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBeGlvcy5nZXQubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdBUEkgRXJyb3InKSk7XG5cbiAgICAgIHJlbmRlckNlbnRyYWxSZWxlYXNlRGV0YWlsKHsgc2VsZWN0ZWRSZWxlYXNlSWQ6ICcxJyB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfrprTrpqzspogg7KCV67O066W8IOu2iOufrOyYrCDsiJgg7JeG7Iq164uI64ukLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7ICJdLCJ2ZXJzaW9uIjozfQ==