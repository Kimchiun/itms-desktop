81b6dcce369c38278af75a55f05877f0
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// axios 모킹
jest.mock('../src/renderer/utils/axios', () => ({
    get: jest.fn()
}));
const react_1 = require("@testing-library/react");
const react_redux_1 = require("react-redux");
const styled_components_1 = require("styled-components");
const toolkit_1 = require("@reduxjs/toolkit");
const ReleaseList_1 = __importDefault(require("../src/renderer/features/Dashboard/components/ReleaseList"));
const dashboardLayoutSlice_1 = __importDefault(require("../src/renderer/store/dashboardLayoutSlice"));
const theme_1 = require("../src/renderer/shared/theme");
require("@testing-library/jest-dom");
const mockAxios = require('../src/renderer/utils/axios');
// 테스트용 스토어 설정
const createTestStore = (initialState = {}) => {
    return (0, toolkit_1.configureStore)({
        reducer: {
            dashboardLayout: dashboardLayoutSlice_1.default
        },
        preloadedState: {
            dashboardLayout: {
                leftPanel: { isCollapsed: false, width: 280 },
                rightPanel: { isCollapsed: false, width: 320 },
                centerPanel: { isFullWidth: false },
                activeTab: 'overview',
                selectedReleaseId: null,
                ...initialState
            }
        }
    });
};
// 컴포넌트 렌더링 헬퍼
const renderReleaseList = (initialState = {}) => {
    const store = createTestStore(initialState);
    const result = (0, react_1.render)((0, jsx_runtime_1.jsx)(react_redux_1.Provider, { store: store, children: (0, jsx_runtime_1.jsx)(styled_components_1.ThemeProvider, { theme: theme_1.theme, children: (0, jsx_runtime_1.jsx)(ReleaseList_1.default, {}) }) }));
    return { ...result, store };
};
const mockReleases = [
    { id: '1', title: 'v2.1.0 - 기능 개선', status: 'active', description: '새로운 기능 추가' },
    { id: '2', title: 'v2.0.5 - 버그 수정', status: 'pending', description: '중요한 버그 수정' },
    { id: '3', title: 'v2.0.4 - 보안 패치', status: 'completed', description: '보안 취약점 수정' },
    { id: '4', title: 'v2.0.3 - 성능 최적화', status: 'completed', description: '성능 개선' }
];
describe('ReleaseList - 릴리즈 리스트/검색/전환 기능', () => {
    beforeEach(() => {
        mockAxios.get.mockClear();
    });
    describe('기본 렌더링 테스트', () => {
        it('릴리즈 목록이 정상적으로 로드되어야 함', async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            // 로딩 상태 확인
            expect(react_1.screen.getByText('로딩 중...')).toBeInTheDocument();
            // 데이터 로드 후 확인
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
                expect(react_1.screen.getByText('v2.0.5 - 버그 수정')).toBeInTheDocument();
                expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
                expect(react_1.screen.getByText('v2.0.3 - 성능 최적화')).toBeInTheDocument();
            });
        });
        it('API 호출이 정상적으로 이루어져야 함', async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            expect(mockAxios.get).toHaveBeenCalledWith('/api/releases');
        });
        it('API 오류 시 빈 목록을 표시해야 함', async () => {
            mockAxios.get.mockRejectedValue(new Error('API Error'));
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('릴리즈가 없습니다.')).toBeInTheDocument();
            });
        });
    });
    describe('검색 기능 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('검색어 입력 시 필터링이 정상 동작해야 함', async () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            // 검색어 입력
            react_1.fireEvent.change(searchInput, { target: { value: '기능' } });
            // 필터링 결과 확인
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            expect(react_1.screen.queryByText('v2.0.5 - 버그 수정')).not.toBeInTheDocument();
        });
        it('대소문자 구분 없이 검색이 동작해야 함', async () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            // 대문자로 검색
            react_1.fireEvent.change(searchInput, { target: { value: 'V2.1' } });
            // 필터링 결과 확인
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
        });
        it('설명에서도 검색이 가능해야 함', async () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            // 설명에서 검색
            react_1.fireEvent.change(searchInput, { target: { value: '새로운' } });
            // 필터링 결과 확인
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
        });
    });
    describe('필터 기능 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('전체 필터 버튼이 정상 동작해야 함', () => {
            const allFilterButton = react_1.screen.getByTestId('release-filter-all');
            react_1.fireEvent.click(allFilterButton);
            // 모든 릴리즈가 표시되어야 함
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.5 - 버그 수정')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.3 - 성능 최적화')).toBeInTheDocument();
        });
        it('진행 중 필터가 정상 동작해야 함', () => {
            const activeFilterButton = react_1.screen.getByTestId('release-filter-active');
            react_1.fireEvent.click(activeFilterButton);
            // 진행 중인 릴리즈만 표시
            expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            expect(react_1.screen.queryByText('v2.0.5 - 버그 수정')).not.toBeInTheDocument();
        });
        it('완료 필터가 정상 동작해야 함', () => {
            const completedFilterButton = react_1.screen.getByTestId('release-filter-completed');
            react_1.fireEvent.click(completedFilterButton);
            // 완료된 릴리즈만 표시
            expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.3 - 성능 최적화')).toBeInTheDocument();
            expect(react_1.screen.queryByText('v2.1.0 - 기능 개선')).not.toBeInTheDocument();
        });
    });
    describe('선택 기능 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('릴리즈 클릭 시 선택 상태가 변경되어야 함', async () => {
            const releaseItem = react_1.screen.getByTestId('release-item-1');
            react_1.fireEvent.click(releaseItem);
            // 선택된 릴리즈가 하이라이트되어야 함
            expect(releaseItem).toHaveStyle({ background: '#dbeafe' });
        });
        it('선택된 릴리즈 ID가 store에 저장되어야 함', async () => {
            const { store } = renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
            const releaseItem = react_1.screen.getByTestId('release-item-2');
            react_1.fireEvent.click(releaseItem);
            // store 상태 확인
            const state = store.getState();
            expect(state.dashboardLayout.selectedReleaseId).toBe('2');
        });
        it('키보드로도 릴리즈를 선택할 수 있어야 함', async () => {
            const releaseItem = react_1.screen.getByTestId('release-item-1');
            // Enter 키로 선택
            react_1.fireEvent.keyDown(releaseItem, { key: 'Enter', code: 'Enter' });
            // 선택 상태 확인
            expect(releaseItem).toHaveStyle({ background: '#dbeafe' });
        });
    });
    describe('검색과 필터 조합 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('검색어와 필터가 동시에 적용되어야 함', () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            const completedFilterButton = react_1.screen.getByTestId('release-filter-completed');
            // 완료 필터 적용
            react_1.fireEvent.click(completedFilterButton);
            // 검색어 입력
            react_1.fireEvent.change(searchInput, { target: { value: '보안' } });
            // 결과 확인 (완료 + 보안 포함)
            expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
            expect(react_1.screen.queryByText('v2.0.3 - 성능 최적화')).not.toBeInTheDocument();
        });
        it('검색어를 지우면 필터만 적용된 결과가 표시되어야 함', () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            const completedFilterButton = react_1.screen.getByTestId('release-filter-completed');
            // 완료 필터 적용
            react_1.fireEvent.click(completedFilterButton);
            // 검색어 입력 후 지우기
            react_1.fireEvent.change(searchInput, { target: { value: '보안' } });
            react_1.fireEvent.change(searchInput, { target: { value: '' } });
            // 완료된 모든 릴리즈가 표시되어야 함
            expect(react_1.screen.getByText('v2.0.4 - 보안 패치')).toBeInTheDocument();
            expect(react_1.screen.getByText('v2.0.3 - 성능 최적화')).toBeInTheDocument();
        });
    });
    describe('접근성 테스트', () => {
        beforeEach(async () => {
            mockAxios.get.mockResolvedValue({ data: mockReleases });
            renderReleaseList();
            await (0, react_1.waitFor)(() => {
                expect(react_1.screen.getByText('v2.1.0 - 기능 개선')).toBeInTheDocument();
            });
        });
        it('검색 입력창에 접근성 속성이 있어야 함', () => {
            const searchInput = react_1.screen.getByTestId('release-search-input');
            expect(searchInput).toHaveAttribute('placeholder', '릴리즈 검색...');
        });
        it('릴리즈 아이템에 접근성 속성이 있어야 함', () => {
            const releaseItem = react_1.screen.getByTestId('release-item-1');
            expect(releaseItem).toHaveAttribute('aria-label', '릴리즈 v2.1.0 - 기능 개선');
            expect(releaseItem).toHaveAttribute('tabIndex', '0');
        });
        it('필터 버튼들이 접근 가능해야 함', () => {
            const allFilterButton = react_1.screen.getByTestId('release-filter-all');
            const activeFilterButton = react_1.screen.getByTestId('release-filter-active');
            expect(allFilterButton).toBeInTheDocument();
            expect(activeFilterButton).toBeInTheDocument();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC90ZXN0cy9yZWxlYXNlLWxpc3QudGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBVUEsV0FBVztBQUNYLElBQUksQ0FBQyxJQUFJLENBQUMsNkJBQTZCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUM5QyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtDQUNmLENBQUMsQ0FBQyxDQUFDO0FBWkosa0RBQTRFO0FBQzVFLDZDQUF1QztBQUN2Qyx5REFBa0Q7QUFDbEQsOENBQWtEO0FBQ2xELDRHQUFvRjtBQUNwRixzR0FBZ0Y7QUFDaEYsd0RBQXFEO0FBQ3JELHFDQUFtQztBQU9uQyxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUV6RCxjQUFjO0FBQ2QsTUFBTSxlQUFlLEdBQUcsQ0FBQyxZQUFZLEdBQUcsRUFBRSxFQUFFLEVBQUU7SUFDNUMsT0FBTyxJQUFBLHdCQUFjLEVBQUM7UUFDcEIsT0FBTyxFQUFFO1lBQ1AsZUFBZSxFQUFFLDhCQUFzQjtTQUN4QztRQUNELGNBQWMsRUFBRTtZQUNkLGVBQWUsRUFBRTtnQkFDZixTQUFTLEVBQUUsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUU7Z0JBQzdDLFVBQVUsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRTtnQkFDOUMsV0FBVyxFQUFFLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRTtnQkFDbkMsU0FBUyxFQUFFLFVBQVU7Z0JBQ3JCLGlCQUFpQixFQUFFLElBQUk7Z0JBQ3ZCLEdBQUcsWUFBWTthQUNoQjtTQUNGO0tBQ0YsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsY0FBYztBQUNkLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxZQUFZLEdBQUcsRUFBRSxFQUFFLEVBQUU7SUFDOUMsTUFBTSxLQUFLLEdBQUcsZUFBZSxDQUFDLFlBQVks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UUFDbEUsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsd0JBQXdCLEVBQUUsR0FBRyxFQUFFO1lBQ2hDLE1BQU0sV0FBVyxHQUFHLGNBQU0sQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUN6RCxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1lBQ3hFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxlQUFlLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG1CQUFtQixFQUFFLEdBQUcsRUFBRTtZQUMzQixNQUFNLGVBQWUsR0FBRyxjQUFNLENBQUMsV0FBVyxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDakUsTUFBTSxrQkFBa0IsR0FBRyxjQUFNLENBQUMsV0FBVyxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFFdkUsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDNUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUNqRCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0Rlc2t0b3AvbXktcHJvamVjdC90ZXN0cy9yZWxlYXNlLWxpc3QudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgVGhlbWVQcm92aWRlciB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgUmVsZWFzZUxpc3QgZnJvbSAnLi4vc3JjL3JlbmRlcmVyL2ZlYXR1cmVzL0Rhc2hib2FyZC9jb21wb25lbnRzL1JlbGVhc2VMaXN0JztcbmltcG9ydCBkYXNoYm9hcmRMYXlvdXRSZWR1Y2VyIGZyb20gJy4uL3NyYy9yZW5kZXJlci9zdG9yZS9kYXNoYm9hcmRMYXlvdXRTbGljZSc7XG5pbXBvcnQgeyB0aGVtZSB9IGZyb20gJy4uL3NyYy9yZW5kZXJlci9zaGFyZWQvdGhlbWUnO1xuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcblxuLy8gYXhpb3Mg66qo7YK5XG5qZXN0Lm1vY2soJy4uL3NyYy9yZW5kZXJlci91dGlscy9heGlvcycsICgpID0+ICh7XG4gIGdldDogamVzdC5mbigpXG59KSk7XG5cbmNvbnN0IG1vY2tBeGlvcyA9IHJlcXVpcmUoJy4uL3NyYy9yZW5kZXJlci91dGlscy9heGlvcycpO1xuXG4vLyDthYzsiqTtirjsmqkg7Iqk7Yag7Ja0IOyEpOyglVxuY29uc3QgY3JlYXRlVGVzdFN0b3JlID0gKGluaXRpYWxTdGF0ZSA9IHt9KSA9PiB7XG4gIHJldHVybiBjb25maWd1cmVTdG9yZSh7XG4gICAgcmVkdWNlcjoge1xuICAgICAgZGFzaGJvYXJkTGF5b3V0OiBkYXNoYm9hcmRMYXlvdXRSZWR1Y2VyXG4gICAgfSxcbiAgICBwcmVsb2FkZWRTdGF0ZToge1xuICAgICAgZGFzaGJvYXJkTGF5b3V0OiB7XG4gICAgICAgIGxlZnRQYW5lbDogeyBpc0NvbGxhcHNlZDogZmFsc2UsIHdpZHRoOiAyODAgfSxcbiAgICAgICAgcmlnaHRQYW5lbDogeyBpc0NvbGxhcHNlZDogZmFsc2UsIHdpZHRoOiAzMjAgfSxcbiAgICAgICAgY2VudGVyUGFuZWw6IHsgaXNGdWxsV2lkdGg6IGZhbHNlIH0sXG4gICAgICAgIGFjdGl2ZVRhYjogJ292ZXJ2aWV3JyxcbiAgICAgICAgc2VsZWN0ZWRSZWxlYXNlSWQ6IG51bGwsXG4gICAgICAgIC4uLmluaXRpYWxTdGF0ZVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG4vLyDsu7Ttj6zrhIztirgg66CM642U66eBIO2XrO2NvFxuY29uc3QgcmVuZGVyUmVsZWFzZUxpc3QgPSAoaW5pdGlhbFN0YXRlID0ge30pID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBjcmVhdGVUZXN0U3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyKFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgPFRoZW1lUHJvdmlkZXIgdGhlbWU9e3RoZW1lfT5cbiAgICAgICAgPFJlbGVhc2VMaXN0IC8+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgPC9Qcm92aWRlcj5cbiAgKTtcbiAgcmV0dXJuIHsgLi4ucmVzdWx0LCBzdG9yZSB9O1xufTtcblxuY29uc3QgbW9ja1JlbGVhc2VzID0gW1xuICB7IGlkOiAnMScsIHRpdGxlOiAndjIuMS4wIC0g6riw64qlIOqwnOyEoCcsIHN0YXR1czogJ2FjdGl2ZScsIGRlc2NyaXB0aW9uOiAn7IOI66Gc7Jq0IOq4sOuKpSDstpTqsIAnIH0sXG4gIHsgaWQ6ICcyJywgdGl0bGU6ICd2Mi4wLjUgLSDrsoTqt7gg7IiY7KCVJywgc3RhdHVzOiAncGVuZGluZycsIGRlc2NyaXB0aW9uOiAn7KSR7JqU7ZWcIOuyhOq3uCDsiJjsoJUnIH0sXG4gIHsgaWQ6ICczJywgdGl0bGU6ICd2Mi4wLjQgLSDrs7TslYgg7Yyo7LmYJywgc3RhdHVzOiAnY29tcGxldGVkJywgZGVzY3JpcHRpb246ICfrs7TslYgg7Leo7JW97KCQIOyImOyglScgfSxcbiAgeyBpZDogJzQnLCB0aXRsZTogJ3YyLjAuMyAtIOyEseuKpSDstZzsoIHtmZQnLCBzdGF0dXM6ICdjb21wbGV0ZWQnLCBkZXNjcmlwdGlvbjogJ+yEseuKpSDqsJzshKAnIH1cbl07XG5cbmRlc2NyaWJlKCdSZWxlYXNlTGlzdCAtIOumtOumrOymiCDrpqzsiqTtirgv6rKA7IOJL+yghO2ZmCDquLDriqUnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tBeGlvcy5nZXQubW9ja0NsZWFyKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfquLDrs7gg66CM642U66eBIO2FjOyKpO2KuCcsICgpID0+IHtcbiAgICBpdCgn66a066as7KaIIOuqqeuhneydtCDsoJXsg4HsoIHsnLzroZwg66Gc65Oc65CY7Ja07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBeGlvcy5nZXQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrUmVsZWFzZXMgfSk7XG4gICAgICBcbiAgICAgIHJlbmRlclJlbGVhc2VMaXN0KCk7XG4gICAgICBcbiAgICAgIC8vIOuhnOuUqSDsg4Htg5wg7ZmV7J24XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn66Gc65SpIOykkS4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgXG4gICAgICAvLyDrjbDsnbTthLAg66Gc65OcIO2bhCDtmZXsnbhcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMC41IC0g67KE6re4IOyImOyglScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMC40IC0g67O07JWIIO2MqOy5mCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMC4zIC0g7ISx64qlIOy1nOygge2ZlCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnQVBJIO2YuOy2nOydtCDsoJXsg4HsoIHsnLzroZwg7J2066Oo7Ja07KC47JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBeGlvcy5nZXQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrUmVsZWFzZXMgfSk7XG4gICAgICBcbiAgICAgIHJlbmRlclJlbGVhc2VMaXN0KCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrQXhpb3MuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9yZWxlYXNlcycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ0FQSSDsmKTrpZgg7IucIOu5iCDrqqnroZ3snYQg7ZGc7Iuc7ZW07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBeGlvcy5nZXQubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdBUEkgRXJyb3InKSk7XG4gICAgICBcbiAgICAgIHJlbmRlclJlbGVhc2VMaXN0KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn66a066as7KaI6rCAIOyXhuyKteuLiOuLpC4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn6rKA7IOJIOq4sOuKpSDthYzsiqTtirgnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja1JlbGVhc2VzIH0pO1xuICAgICAgcmVuZGVyUmVsZWFzZUxpc3QoKTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn6rKA7IOJ7Ja0IOyeheugpSDsi5wg7ZWE7YSw66eB7J20IOygleyDgSDrj5nsnpHtlbTslbwg7ZWoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2Utc2VhcmNoLWlucHV0Jyk7XG4gICAgICBcbiAgICAgIC8vIOqygOyDieyWtCDsnoXroKVcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAn6riw64qlJyB9IH0pO1xuICAgICAgXG4gICAgICAvLyDtlYTthLDrp4Eg6rKw6rO8IO2ZleyduFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ3YyLjAuNSAtIOuyhOq3uCDsiJjsoJUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgn64yA7IaM66y47J6QIOq1rOu2hCDsl4bsnbQg6rKA7IOJ7J20IOuPmeyeke2VtOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVsZWFzZS1zZWFyY2gtaW5wdXQnKTtcbiAgICAgIFxuICAgICAgLy8g64yA66y47J6Q66GcIOqygOyDiVxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdWMi4xJyB9IH0pO1xuICAgICAgXG4gICAgICAvLyDtlYTthLDrp4Eg6rKw6rO8IO2ZleyduFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCfshKTrqoXsl5DshJzrj4Qg6rKA7IOJ7J20IOqwgOuKpe2VtOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVsZWFzZS1zZWFyY2gtaW5wdXQnKTtcbiAgICAgIFxuICAgICAgLy8g7ISk66qF7JeQ7IScIOqygOyDiVxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICfsg4jroZzsmrQnIH0gfSk7XG4gICAgICBcbiAgICAgIC8vIO2VhO2EsOungSDqsrDqs7wg7ZmV7J24XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn7ZWE7YSwIOq4sOuKpSDthYzsiqTtirgnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja1JlbGVhc2VzIH0pO1xuICAgICAgcmVuZGVyUmVsZWFzZUxpc3QoKTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn7KCE7LK0IO2VhO2EsCDrsoTtirzsnbQg7KCV7IOBIOuPmeyeke2VtOyVvCDtlagnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbGxGaWx0ZXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2UtZmlsdGVyLWFsbCcpO1xuICAgICAgXG4gICAgICBmaXJlRXZlbnQuY2xpY2soYWxsRmlsdGVyQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8g66qo65OgIOumtOumrOymiOqwgCDtkZzsi5zrkJjslrTslbwg7ZWoXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjAuNSAtIOuyhOq3uCDsiJjsoJUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4wLjQgLSDrs7TslYgg7Yyo7LmYJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMC4zIC0g7ISx64qlIOy1nOygge2ZlCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+ynhO2WiSDspJEg7ZWE7YSw6rCAIOygleyDgSDrj5nsnpHtlbTslbwg7ZWoJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aXZlRmlsdGVyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLWZpbHRlci1hY3RpdmUnKTtcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGFjdGl2ZUZpbHRlckJ1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIOynhO2WiSDspJHsnbgg66a066as7KaI66eMIO2RnOyLnFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ3YyLjAuNSAtIOuyhOq3uCDsiJjsoJUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgn7JmE66OMIO2VhO2EsOqwgCDsoJXsg4Eg64+Z7J6R7ZW07JW8IO2VqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXBsZXRlZEZpbHRlckJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVsZWFzZS1maWx0ZXItY29tcGxldGVkJyk7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5jbGljayhjb21wbGV0ZWRGaWx0ZXJCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyDsmYTro4zrkJwg66a066as7KaI66eMIO2RnOyLnFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjAuNCAtIOuztOyViCDtjKjsuZgnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4wLjMgLSDshLHriqUg7LWc7KCB7ZmUJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCd2Mi4xLjAgLSDquLDriqUg6rCc7ISgJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn7ISg7YOdIOq4sOuKpSDthYzsiqTtirgnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja1JlbGVhc2VzIH0pO1xuICAgICAgcmVuZGVyUmVsZWFzZUxpc3QoKTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgndjIuMS4wIC0g6riw64qlIOqwnOyEoCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn66a066as7KaIIO2BtOumrSDsi5wg7ISg7YOdIOyDge2DnOqwgCDrs4Dqsr3rkJjslrTslbwg7ZWoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVsZWFzZUl0ZW0gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2UtaXRlbS0xJyk7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5jbGljayhyZWxlYXNlSXRlbSk7XG4gICAgICBcbiAgICAgIC8vIOyEoO2DneuQnCDrprTrpqzspojqsIAg7ZWY7J2065287J207Yq465CY7Ja07JW8IO2VqFxuICAgICAgZXhwZWN0KHJlbGVhc2VJdGVtKS50b0hhdmVTdHlsZSh7IGJhY2tncm91bmQ6ICcjZGJlYWZlJyB9KTtcbiAgICB9KTtcblxuICAgIGl0KCfshKDtg53rkJwg66a066as7KaIIElE6rCAIHN0b3Jl7JeQIOyggOyepeuQmOyWtOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHN0b3JlIH0gPSByZW5kZXJSZWxlYXNlTGlzdCgpO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4xLjAgLSDquLDriqUg6rCc7ISgJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVsZWFzZUl0ZW0gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2UtaXRlbS0yJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socmVsZWFzZUl0ZW0pO1xuICAgICAgXG4gICAgICAvLyBzdG9yZSDsg4Htg5wg7ZmV7J24XG4gICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICBleHBlY3Qoc3RhdGUuZGFzaGJvYXJkTGF5b3V0LnNlbGVjdGVkUmVsZWFzZUlkKS50b0JlKCcyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgn7YKk67O065Oc66Gc64+EIOumtOumrOymiOulvCDshKDtg53tlaAg7IiYIOyeiOyWtOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZWxlYXNlSXRlbSA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVsZWFzZS1pdGVtLTEnKTtcbiAgICAgIFxuICAgICAgLy8gRW50ZXIg7YKk66GcIOyEoO2DnVxuICAgICAgZmlyZUV2ZW50LmtleURvd24ocmVsZWFzZUl0ZW0sIHsga2V5OiAnRW50ZXInLCBjb2RlOiAnRW50ZXInIH0pO1xuICAgICAgXG4gICAgICAvLyDshKDtg50g7IOB7YOcIO2ZleyduFxuICAgICAgZXhwZWN0KHJlbGVhc2VJdGVtKS50b0hhdmVTdHlsZSh7IGJhY2tncm91bmQ6ICcjZGJlYWZlJyB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+qygOyDieqzvCDtlYTthLAg7KGw7ZWpIO2FjOyKpO2KuCcsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBeGlvcy5nZXQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrUmVsZWFzZXMgfSk7XG4gICAgICByZW5kZXJSZWxlYXNlTGlzdCgpO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4xLjAgLSDquLDriqUg6rCc7ISgJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCfqsoDsg4nslrTsmYAg7ZWE7YSw6rCAIOuPmeyLnOyXkCDsoIHsmqnrkJjslrTslbwg7ZWoJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2Utc2VhcmNoLWlucHV0Jyk7XG4gICAgICBjb25zdCBjb21wbGV0ZWRGaWx0ZXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2UtZmlsdGVyLWNvbXBsZXRlZCcpO1xuICAgICAgXG4gICAgICAvLyDsmYTro4wg7ZWE7YSwIOyggeyaqVxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGNvbXBsZXRlZEZpbHRlckJ1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIOqygOyDieyWtCDsnoXroKVcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAn67O07JWIJyB9IH0pO1xuICAgICAgXG4gICAgICAvLyDqsrDqs7wg7ZmV7J24ICjsmYTro4wgKyDrs7TslYgg7Y+s7ZWoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjAuNCAtIOuztOyViCDtjKjsuZgnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ3YyLjAuMyAtIOyEseuKpSDstZzsoIHtmZQnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgn6rKA7IOJ7Ja066W8IOyngOyasOuptCDtlYTthLDrp4wg7KCB7Jqp65CcIOqysOqzvOqwgCDtkZzsi5zrkJjslrTslbwg7ZWoJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2Utc2VhcmNoLWlucHV0Jyk7XG4gICAgICBjb25zdCBjb21wbGV0ZWRGaWx0ZXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2UtZmlsdGVyLWNvbXBsZXRlZCcpO1xuICAgICAgXG4gICAgICAvLyDsmYTro4wg7ZWE7YSwIOyggeyaqVxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGNvbXBsZXRlZEZpbHRlckJ1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIOqygOyDieyWtCDsnoXroKUg7ZuEIOyngOyasOq4sFxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICfrs7TslYgnIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJycgfSB9KTtcbiAgICAgIFxuICAgICAgLy8g7JmE66OM65CcIOuqqOuToCDrprTrpqzspojqsIAg7ZGc7Iuc65CY7Ja07JW8IO2VqFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjAuNCAtIOuztOyViCDtjKjsuZgnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd2Mi4wLjMgLSDshLHriqUg7LWc7KCB7ZmUJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfsoJHqt7zshLEg7YWM7Iqk7Yq4JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0F4aW9zLmdldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG1vY2tSZWxlYXNlcyB9KTtcbiAgICAgIHJlbmRlclJlbGVhc2VMaXN0KCk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3YyLjEuMCAtIOq4sOuKpSDqsJzshKAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+qygOyDiSDsnoXroKXssL3sl5Ag7KCR6re87ISxIOyGjeyEseydtCDsnojslrTslbwg7ZWoJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2Utc2VhcmNoLWlucHV0Jyk7XG4gICAgICBleHBlY3Qoc2VhcmNoSW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAn66a066as7KaIIOqygOyDiS4uLicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+umtOumrOymiCDslYTsnbTthZzsl5Ag7KCR6re87ISxIOyGjeyEseydtCDsnojslrTslbwg7ZWoJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVsZWFzZUl0ZW0gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbGVhc2UtaXRlbS0xJyk7XG4gICAgICBleHBlY3QocmVsZWFzZUl0ZW0pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICfrprTrpqzspoggdjIuMS4wIC0g6riw64qlIOqwnOyEoCcpO1xuICAgICAgZXhwZWN0KHJlbGVhc2VJdGVtKS50b0hhdmVBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJzAnKTtcbiAgICB9KTtcblxuICAgIGl0KCftlYTthLAg67KE7Yq865Ok7J20IOygkeq3vCDqsIDriqXtlbTslbwg7ZWoJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWxsRmlsdGVyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWxlYXNlLWZpbHRlci1hbGwnKTtcbiAgICAgIGNvbnN0IGFjdGl2ZUZpbHRlckJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVsZWFzZS1maWx0ZXItYWN0aXZlJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChhbGxGaWx0ZXJCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoYWN0aXZlRmlsdGVyQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcbn0pOyAiXSwidmVyc2lvbiI6M30=