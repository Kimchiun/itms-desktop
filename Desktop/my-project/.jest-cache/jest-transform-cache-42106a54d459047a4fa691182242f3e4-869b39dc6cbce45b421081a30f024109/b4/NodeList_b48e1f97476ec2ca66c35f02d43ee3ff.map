{"version":3,"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","default","MotionEntity","MOTION_KEY","getMinimumRangeTransitionRange","_extends2","_objectDestructuringEmpty2","_slicedToArray2","_objectWithoutProperties2","_useLayoutEffect","_rcVirtualList","React","_interopRequireWildcard","_MotionTreeNode","_diffUtil","_treeUtil","_excluded","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","HIDDEN_STYLE","width","height","display","overflow","opacity","border","padding","margin","noop","concat","Math","random","MotionNode","key","level","index","pos","node","nodes","MotionFlattenData","parent","children","data","title","isStart","isEnd","list","virtual","itemHeight","slice","ceil","itemKey","item","getKey","getAccessibilityPath","path","String","current","NodeList","forwardRef","props","ref","prefixCls","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd","domProps","listRef","useRef","indentMeasurerRef","useImperativeHandle","scrollTo","scroll","getIndentWidth","offsetWidth","_React$useState","useState","_React$useState2","prevExpandedKeys","setPrevExpandedKeys","_React$useState3","_React$useState4","prevData","setPrevData","_React$useState5","_React$useState6","transitionData","setTransitionData","_React$useState7","_React$useState8","transitionRange","setTransitionRange","_React$useState9","_React$useState10","motionType","setMotionType","dataRef","onMotionEnd","latestData","diffExpanded","findExpandedKeys","add","keyIndex","findIndex","_ref","rangeNodes","getExpandRange","newTransitionData","splice","_keyIndex","_ref2","_rangeNodes","_newTransitionData","useEffect","mergedData","treeNodeRequiredProps","createElement","Fragment","style","onChange","className","position","pointerEvents","visibility","fullHeight","role","onVisibleChange","originList","every","treeNode","restProps","assign","mergedKey","treeNodeProps","getTreeNodeProps","active","motionNodes","onMotionStart","onMouseMove","process","env","NODE_ENV","displayName","_default"],"sources":["NodeList.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.MotionEntity = exports.MOTION_KEY = void 0;\nexports.getMinimumRangeTransitionRange = getMinimumRangeTransitionRange;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _objectDestructuringEmpty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectDestructuringEmpty\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _useLayoutEffect = _interopRequireDefault(require(\"rc-util/lib/hooks/useLayoutEffect\"));\nvar _rcVirtualList = _interopRequireDefault(require(\"rc-virtual-list\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _MotionTreeNode = _interopRequireDefault(require(\"./MotionTreeNode\"));\nvar _diffUtil = require(\"./utils/diffUtil\");\nvar _treeUtil = require(\"./utils/treeUtil\");\nvar _excluded = [\"prefixCls\", \"data\", \"selectable\", \"checkable\", \"expandedKeys\", \"selectedKeys\", \"checkedKeys\", \"loadedKeys\", \"loadingKeys\", \"halfCheckedKeys\", \"keyEntities\", \"disabled\", \"dragging\", \"dragOverNodeKey\", \"dropPosition\", \"motion\", \"height\", \"itemHeight\", \"virtual\", \"scrollWidth\", \"focusable\", \"activeItem\", \"focused\", \"tabIndex\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onActiveChange\", \"onListChangeStart\", \"onListChangeEnd\"];\n/**\n * Handle virtual list of the TreeNodes.\n */\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nvar HIDDEN_STYLE = {\n  width: 0,\n  height: 0,\n  display: 'flex',\n  overflow: 'hidden',\n  opacity: 0,\n  border: 0,\n  padding: 0,\n  margin: 0\n};\nvar noop = function noop() {};\nvar MOTION_KEY = exports.MOTION_KEY = \"RC_TREE_MOTION_\".concat(Math.random());\nvar MotionNode = {\n  key: MOTION_KEY\n};\nvar MotionEntity = exports.MotionEntity = {\n  key: MOTION_KEY,\n  level: 0,\n  index: 0,\n  pos: '0',\n  node: MotionNode,\n  nodes: [MotionNode]\n};\nvar MotionFlattenData = {\n  parent: null,\n  children: [],\n  pos: MotionEntity.pos,\n  data: MotionNode,\n  title: null,\n  key: MOTION_KEY,\n  /** Hold empty list here since we do not use it */\n  isStart: [],\n  isEnd: []\n};\n/**\n * We only need get visible content items to play the animation.\n */\nfunction getMinimumRangeTransitionRange(list, virtual, height, itemHeight) {\n  if (virtual === false || !height) {\n    return list;\n  }\n  return list.slice(0, Math.ceil(height / itemHeight) + 1);\n}\nfunction itemKey(item) {\n  var key = item.key,\n    pos = item.pos;\n  return (0, _treeUtil.getKey)(key, pos);\n}\nfunction getAccessibilityPath(item) {\n  var path = String(item.data.key);\n  var current = item;\n  while (current.parent) {\n    current = current.parent;\n    path = \"\".concat(current.data.key, \" > \").concat(path);\n  }\n  return path;\n}\nvar NodeList = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var prefixCls = props.prefixCls,\n    data = props.data,\n    selectable = props.selectable,\n    checkable = props.checkable,\n    expandedKeys = props.expandedKeys,\n    selectedKeys = props.selectedKeys,\n    checkedKeys = props.checkedKeys,\n    loadedKeys = props.loadedKeys,\n    loadingKeys = props.loadingKeys,\n    halfCheckedKeys = props.halfCheckedKeys,\n    keyEntities = props.keyEntities,\n    disabled = props.disabled,\n    dragging = props.dragging,\n    dragOverNodeKey = props.dragOverNodeKey,\n    dropPosition = props.dropPosition,\n    motion = props.motion,\n    height = props.height,\n    itemHeight = props.itemHeight,\n    virtual = props.virtual,\n    scrollWidth = props.scrollWidth,\n    focusable = props.focusable,\n    activeItem = props.activeItem,\n    focused = props.focused,\n    tabIndex = props.tabIndex,\n    onKeyDown = props.onKeyDown,\n    onFocus = props.onFocus,\n    onBlur = props.onBlur,\n    onActiveChange = props.onActiveChange,\n    onListChangeStart = props.onListChangeStart,\n    onListChangeEnd = props.onListChangeEnd,\n    domProps = (0, _objectWithoutProperties2.default)(props, _excluded);\n\n  // =============================== Ref ================================\n  var listRef = React.useRef(null);\n  var indentMeasurerRef = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return {\n      scrollTo: function scrollTo(scroll) {\n        listRef.current.scrollTo(scroll);\n      },\n      getIndentWidth: function getIndentWidth() {\n        return indentMeasurerRef.current.offsetWidth;\n      }\n    };\n  });\n\n  // ============================== Motion ==============================\n  var _React$useState = React.useState(expandedKeys),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    prevExpandedKeys = _React$useState2[0],\n    setPrevExpandedKeys = _React$useState2[1];\n  var _React$useState3 = React.useState(data),\n    _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n    prevData = _React$useState4[0],\n    setPrevData = _React$useState4[1];\n  var _React$useState5 = React.useState(data),\n    _React$useState6 = (0, _slicedToArray2.default)(_React$useState5, 2),\n    transitionData = _React$useState6[0],\n    setTransitionData = _React$useState6[1];\n  var _React$useState7 = React.useState([]),\n    _React$useState8 = (0, _slicedToArray2.default)(_React$useState7, 2),\n    transitionRange = _React$useState8[0],\n    setTransitionRange = _React$useState8[1];\n  var _React$useState9 = React.useState(null),\n    _React$useState10 = (0, _slicedToArray2.default)(_React$useState9, 2),\n    motionType = _React$useState10[0],\n    setMotionType = _React$useState10[1];\n\n  // When motion end but data change, this will makes data back to previous one\n  var dataRef = React.useRef(data);\n  dataRef.current = data;\n  function onMotionEnd() {\n    var latestData = dataRef.current;\n    setPrevData(latestData);\n    setTransitionData(latestData);\n    setTransitionRange([]);\n    setMotionType(null);\n    onListChangeEnd();\n  }\n\n  // Do animation if expanded keys changed\n  // layoutEffect here to avoid blink of node removing\n  (0, _useLayoutEffect.default)(function () {\n    setPrevExpandedKeys(expandedKeys);\n    var diffExpanded = (0, _diffUtil.findExpandedKeys)(prevExpandedKeys, expandedKeys);\n    if (diffExpanded.key !== null) {\n      if (diffExpanded.add) {\n        var keyIndex = prevData.findIndex(function (_ref) {\n          var key = _ref.key;\n          return key === diffExpanded.key;\n        });\n        var rangeNodes = getMinimumRangeTransitionRange((0, _diffUtil.getExpandRange)(prevData, data, diffExpanded.key), virtual, height, itemHeight);\n        var newTransitionData = prevData.slice();\n        newTransitionData.splice(keyIndex + 1, 0, MotionFlattenData);\n        setTransitionData(newTransitionData);\n        setTransitionRange(rangeNodes);\n        setMotionType('show');\n      } else {\n        var _keyIndex = data.findIndex(function (_ref2) {\n          var key = _ref2.key;\n          return key === diffExpanded.key;\n        });\n        var _rangeNodes = getMinimumRangeTransitionRange((0, _diffUtil.getExpandRange)(data, prevData, diffExpanded.key), virtual, height, itemHeight);\n        var _newTransitionData = data.slice();\n        _newTransitionData.splice(_keyIndex + 1, 0, MotionFlattenData);\n        setTransitionData(_newTransitionData);\n        setTransitionRange(_rangeNodes);\n        setMotionType('hide');\n      }\n    } else if (prevData !== data) {\n      // If whole data changed, we just refresh the list\n      setPrevData(data);\n      setTransitionData(data);\n    }\n  }, [expandedKeys, data]);\n\n  // We should clean up motion if is changed by dragging\n  React.useEffect(function () {\n    if (!dragging) {\n      onMotionEnd();\n    }\n  }, [dragging]);\n  var mergedData = motion ? transitionData : data;\n  var treeNodeRequiredProps = {\n    expandedKeys: expandedKeys,\n    selectedKeys: selectedKeys,\n    loadedKeys: loadedKeys,\n    loadingKeys: loadingKeys,\n    checkedKeys: checkedKeys,\n    halfCheckedKeys: halfCheckedKeys,\n    dragOverNodeKey: dragOverNodeKey,\n    dropPosition: dropPosition,\n    keyEntities: keyEntities\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, focused && activeItem && /*#__PURE__*/React.createElement(\"span\", {\n    style: HIDDEN_STYLE,\n    \"aria-live\": \"assertive\"\n  }, getAccessibilityPath(activeItem)), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n    style: HIDDEN_STYLE,\n    disabled: focusable === false || disabled,\n    tabIndex: focusable !== false ? tabIndex : null,\n    onKeyDown: onKeyDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    value: \"\",\n    onChange: noop,\n    \"aria-label\": \"for screen reader\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-treenode\"),\n    \"aria-hidden\": true,\n    style: {\n      position: 'absolute',\n      pointerEvents: 'none',\n      visibility: 'hidden',\n      height: 0,\n      overflow: 'hidden',\n      border: 0,\n      padding: 0\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-indent\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: indentMeasurerRef,\n    className: \"\".concat(prefixCls, \"-indent-unit\")\n  }))), /*#__PURE__*/React.createElement(_rcVirtualList.default, (0, _extends2.default)({}, domProps, {\n    data: mergedData,\n    itemKey: itemKey,\n    height: height,\n    fullHeight: false,\n    virtual: virtual,\n    itemHeight: itemHeight,\n    scrollWidth: scrollWidth,\n    prefixCls: \"\".concat(prefixCls, \"-list\"),\n    ref: listRef,\n    role: \"tree\",\n    onVisibleChange: function onVisibleChange(originList) {\n      // The best match is using `fullList` - `originList` = `restList`\n      // and check the `restList` to see if has the MOTION_KEY node\n      // but this will cause performance issue for long list compare\n      // we just check `originList` and repeat trigger `onMotionEnd`\n      if (originList.every(function (item) {\n        return itemKey(item) !== MOTION_KEY;\n      })) {\n        onMotionEnd();\n      }\n    }\n  }), function (treeNode) {\n    var pos = treeNode.pos,\n      restProps = Object.assign({}, ((0, _objectDestructuringEmpty2.default)(treeNode.data), treeNode.data)),\n      title = treeNode.title,\n      key = treeNode.key,\n      isStart = treeNode.isStart,\n      isEnd = treeNode.isEnd;\n    var mergedKey = (0, _treeUtil.getKey)(key, pos);\n    delete restProps.key;\n    delete restProps.children;\n    var treeNodeProps = (0, _treeUtil.getTreeNodeProps)(mergedKey, treeNodeRequiredProps);\n    return /*#__PURE__*/React.createElement(_MotionTreeNode.default, (0, _extends2.default)({}, restProps, treeNodeProps, {\n      title: title,\n      active: !!activeItem && key === activeItem.key,\n      pos: pos,\n      data: treeNode.data,\n      isStart: isStart,\n      isEnd: isEnd,\n      motion: motion,\n      motionNodes: key === MOTION_KEY ? transitionRange : null,\n      motionType: motionType,\n      onMotionStart: onListChangeStart,\n      onMotionEnd: onMotionEnd,\n      treeNodeRequiredProps: treeNodeRequiredProps,\n      onMouseMove: function onMouseMove() {\n        onActiveChange(null);\n      }\n    }));\n  }));\n});\nif (process.env.NODE_ENV !== 'production') {\n  NodeList.displayName = 'NodeList';\n}\nvar _default = exports.default = NodeList;"],"mappings":"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","ignoreList":[]}